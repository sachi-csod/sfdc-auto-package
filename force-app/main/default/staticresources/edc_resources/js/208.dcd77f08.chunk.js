"use strict";(self.webpackChunkedc_widgets_sfdc=self.webpackChunkedc_widgets_sfdc||[]).push([[208],{9623:(e,a,l)=>{l.r(a),l.d(a,{default:()=>x});var d=l(1649),s=l(2143),n=l(3442),t=l(9467),i=l(24),c=l(3838),u=l(2856),r=l(5490),o=l(8984),v=l(5201),f=l(1405),_=l(5523),g=l(7064),h=l(8079),m=l(8170);const x=()=>{const{userInfo:e,orgInfo:a,ldFlags:l}=(0,d.useContext)(o.Il),{state:x}=(0,n.TH)(),[I,L]=(0,d.useState)(u.default.PROVIDER_LANGUAGE),[C,j]=(0,d.useState)([]),[p,N]=(0,d.useState)(!0),[w,S]=(0,d.useState)(!1),[T,b]=(0,d.useState)(!1),[k,A]=(0,d.useState)(0),E=(0,v.p)(),G=(0,d.useCallback)((async()=>{var e;let d=null===(e=a.configs)||void 0===e?void 0:e.filter((e=>e.name===u.default.DEFAULT_LANGUAGE_KEY));d=d[0]&&d[0].value,L((e=>{const a=e;!a.includes(d)&&a.push(d);return l[u.default.LD_FLAGS.MULTILINGUAL_CONTNET]&&l[u.default.LD_FLAGS.MULTILINGUAL_CONTNET]?a:[]}))}),[l,a.configs]),y=(0,d.useCallback)((async()=>{var l;N(!0);const{0:d}=await(0,_.yH)(e),s={candidates:null===d||void 0===d?void 0:d.candidates,limit:u.default.CARD_LIMIT,offset:k,search_term:"",aggs_enabled:!0,load_hidden:!1,is_admin:!0,languages:I,source_id:[null===x||void 0===x?void 0:x.sourceId]},[n,t]=await(0,f.r$)({userInfo:e,orgInfo:a,payload:s}),i=null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.filter((e=>e.accessible));var c,r;n&&(j((e=>0===k?i:[...e,...null!==i&&void 0!==i?i:[]])),S((null===n||void 0===n||null===(c=n.data)||void 0===c?void 0:c.length)<u.default.CARD_LIMIT),b(!1));t&&E.open((null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||u.default.ERRORS.MESSAGE);N(!1)}),[e,k,I,null===x||void 0===x?void 0:x.sourceId,a,E]),D=(0,d.useCallback)((()=>{C.length>0&&!w&&!T&&(A((e=>e+u.default.LIMIT)),b(!0))}),[C.length,w,T]);return(0,d.useEffect)((()=>{G()}),[G]),(0,d.useEffect)((()=>{y({})}),[y]),(0,m.jsxs)("div",{className:"edc-view-all-page",children:[(0,m.jsx)(t.Z,{}),(0,m.jsx)("div",{className:"edc-view-all-label-container",children:(0,m.jsx)("h3",{className:"edc-text-primary",children:null===x||void 0===x?void 0:x.display_name})}),(0,m.jsxs)("div",{className:"edc-view-all-cards-container",children:[(0,m.jsx)("div",{className:"edc-view-all-cards",children:(0,m.jsx)(m.Fragment,{children:(0,h.xb)(C)?p?null:(0,m.jsx)("div",{className:"edc-view-all-center-content",children:(0,g.eO)({key:"Cards_noContentFound",defaultTranslatedValue:r.p.Cards.no_content_found})}):(0,m.jsx)(m.Fragment,{children:null===C||void 0===C?void 0:C.map(((e,a)=>{var l;return(0,m.jsx)(d.Suspense,{fallback:(0,m.jsx)(s.SmartCardSkeleton,{}),children:(0,m.jsx)("div",{className:"edc-view-all-card-data",children:(0,m.jsx)(i.default,{cardData:e},null!==(l=null===e||void 0===e?void 0:e.id)&&void 0!==l?l:a)})},a)}))})})}),(0,m.jsx)("div",{className:"edc-view-all-center-content edc-mt-2",children:p?(0,m.jsx)(s.Spinner,{variant:"lg",spinnerMessage:(0,g.eO)({key:"waitingCardsLoaderLabel",defaultTranslatedValue:r.p.Cards.waiting_cards_loader_label})}):!w&&null!==C&&void 0!==C&&C.length?(0,m.jsx)(c.Z,{onClick:D}):null})]})]})}}}]);