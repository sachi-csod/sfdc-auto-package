"use strict";(self.webpackChunkedc_widgets_sfdc=self.webpackChunkedc_widgets_sfdc||[]).push([[943],{2488:(e,l,a)=>{a.d(l,{Z:()=>s});a(1649);var t=a(2143),n=a(8170);const s=e=>{let{text:l}=e;return(0,n.jsx)(t.PrimaryButton,{className:"edc-navbar-action-btn down-arrow green-border}",text:l,variant:"outlined",fillColor:"white"})}},7846:(e,l,a)=>{a.d(l,{Z:()=>C});var t=a(1649),n=a(2143),s=a(5422),d=a.n(s),o=a(2856),i=a(5490),u=a(8984),r=a(5201),c=a(1405),v=a(599),f=a(7064),h=a(2488),T=a(8170);const C=t.memo((e=>{var l,a,s,C,_,p,S,E,x,b;let{id:y,options:m,selectedFilters:g={},setSelectedFilters:k}=e;const{userInfo:I,rootElement:N}=(0,t.useContext)(u.Il),[A,H]=(0,t.useState)(!1),[L,w]=(0,t.useState)({}),[V,R]=(0,t.useState)(0),[O,j]=(0,t.useState)(!0),[D,M]=(0,t.useState)([]),[B,F]=(0,t.useState)(!1),Q=(0,r.p)(),P=d()((e=>{W(e)}),500),U=(0,t.useCallback)((async()=>{var e,l,a;const t=0+o.default.LIMIT_TWENTY,n=null===m||void 0===m||null===(e=m.user_ids)||void 0===e?void 0:e.slice(0,t),[s,d]=await(0,c.wX)({userInfo:I,user_id:n});var i;if(d)return void Q.open((null===d||void 0===d||null===(i=d.data)||void 0===i?void 0:i.message)||o.default.ERRORS.MESSAGE);const u={};null===s||void 0===s||null===(l=s.users)||void 0===l||l.forEach((e=>{u[e.id]=null===e||void 0===e?void 0:e.fullName}));const r=[];null===m||void 0===m||null===(a=m.user_ids)||void 0===a||a.forEach((e=>{const l=e.key,a=e.doc_count;if(!isNaN(l)){const e=parseInt(l);if(u[e]){const t=u[e];r.push({key:l,doc_count:a,name:t})}}}));const v=null===r||void 0===r?void 0:r.map((e=>({id:e.key,text:"".concat(e.name," ").concat((null===e||void 0===e?void 0:e.doc_count)&&"(".concat(e.doc_count,")")||""),value:e.name}))),f=(null===m||void 0===m?void 0:m.user_ids.length)>t;F(!!f),M(v),R(t)}),[null===m||void 0===m?void 0:m.user_ids,Q,I]),Y=(0,t.useCallback)((async()=>{var e,l;const a=o.default.LIMIT_TWENTY,t=V,n=t+a,s=null===m||void 0===m||null===(e=m.user_ids)||void 0===e?void 0:e.slice(t,n),[d,i]=await(0,c.wX)({userInfo:I,user_id:s});var u;if(i)return void Q.open((null===i||void 0===i||null===(u=i.data)||void 0===u?void 0:u.message)||o.default.ERRORS.MESSAGE);const r={};null===d||void 0===d||null===(l=d.users)||void 0===l||l.forEach((e=>{r[e.id]=null===e||void 0===e?void 0:e.fullName}));const v=[];s.forEach((e=>{const l=e.key,a=e.doc_count;if(!isNaN(l)){const e=parseInt(l);if(r[e]){const t=r[e];v.push({key:l,doc_count:a,name:t})}}}));const f=null===v||void 0===v?void 0:v.map((e=>({id:e.key,text:"".concat(e.name," ").concat((null===e||void 0===e?void 0:e.doc_count)&&"(".concat(e.doc_count,")")||""),value:e.name}))),h=(null===m||void 0===m?void 0:m.user_ids.length)>n;F(!!h),M([...D,...f]),R(n)}),[D,V,null===m||void 0===m?void 0:m.user_ids,Q,I]),W=(0,t.useCallback)((async e=>{var l,a;const t=null===m||void 0===m?void 0:m.user_ids,[n,s]=await(0,c.wX)({userInfo:I,user_id:t,searchTextValue:e});var d;if(s)return void Q.open((null===s||void 0===s||null===(d=s.data)||void 0===d?void 0:d.message)||o.default.ERRORS.MESSAGE);const i={};null===n||void 0===n||null===(l=n.users)||void 0===l||l.forEach((e=>{i[e.id]=null===e||void 0===e?void 0:e.fullName}));const u=[];null===m||void 0===m||null===(a=m.user_ids)||void 0===a||a.forEach((e=>{const l=e.key,a=e.doc_count;if(!isNaN(l)){const e=parseInt(l);if(i[e]){const t=i[e];u.push({key:l,doc_count:a,name:t})}}}));const r=null===u||void 0===u?void 0:u.map((e=>({id:e.key,text:"".concat(e.name," ").concat((null===e||void 0===e?void 0:e.doc_count)&&"(".concat(e.doc_count,")")||""),value:e.name})));F(!1),M(r)}),[null===m||void 0===m?void 0:m.user_ids,Q,I]);return(0,t.useEffect)((()=>{A&&U()}),[A,U]),(0,t.useEffect)((()=>{j(!A)}),[A]),(0,T.jsxs)("div",{className:"edc-search-filter-container",children:[(0,T.jsx)(n.InputDialogSelect,{withSearch:!0,options:(0,v.zS)(null===m||void 0===m?void 0:m.standard_type)||[],clearAllText:(0,f.TB)({key:"Search_clearAllText",defaultTranslatedValue:i.p.Search.clear_all_text}),cancelText:(0,f.TB)({key:"cancel",defaultTranslatedValue:i.p.Search.cancel_text}),selectAllText:(0,f.TB)({key:"selectAll",defaultTranslatedValue:i.p.Search.select_all_text}),selectedText:(0,f.TB)({key:"selected",defaultTranslatedValue:i.p.Search.selected_text}),buttonText:(0,f.TB)({key:"select",defaultTranslatedValue:i.p.Search.select}),selectedValue:(null===g||void 0===g||null===(l=g.content)||void 0===l?void 0:l.standard_type)||[],onSelect:e=>{k({...g,content:{...null===g||void 0===g?void 0:g.content,standard_type:e}})},clearAllCallback:()=>{k({...g,content:{...null===g||void 0===g?void 0:g.content,standard_type:[]}})},rootElement:N,children:(0,T.jsx)(h.Z,{text:(0,f.TB)({key:"contentType",defaultTranslatedValue:i.p.Search.content_type})})}),(0,T.jsx)(n.InputDialogSelect,{withSearch:!0,options:(null===m||void 0===m?void 0:m.source_id)||[],selectedValue:(null===g||void 0===g||null===(a=g.content)||void 0===a?void 0:a.source_id)||[],clearAllText:(0,f.TB)({key:"Search_clearAllText",defaultTranslatedValue:i.p.Search.clear_all_text}),cancelText:(0,f.TB)({key:"cancel",defaultTranslatedValue:i.p.Search.cancel_text}),selectAllText:(0,f.TB)({key:"selectAll",defaultTranslatedValue:i.p.Search.select_all_text}),selectedText:(0,f.TB)({key:"selected",defaultTranslatedValue:i.p.Search.selected_text}),buttonText:(0,f.TB)({key:"select",defaultTranslatedValue:i.p.Search.select}),onSelect:e=>{k({...g,content:{...null===g||void 0===g?void 0:g.content,source_id:e}})},clearAllCallback:()=>{k({...g,content:{...null===g||void 0===g?void 0:g.content,source_id:[]}})},rootElement:N,children:(0,T.jsx)(h.Z,{text:(0,f.TB)({key:"Search_contentSource",defaultTranslatedValue:i.p.Search.content_source})})}),(0,T.jsx)(n.PrimaryButton,{onClick:()=>{w(null===g||void 0===g?void 0:g.content),H(!0)},className:"edc-navbar-action-btn",text:(0,f.TB)({key:"allFilters",defaultTranslatedValue:i.p.Search.all_filters}),variant:"contained",fillColor:"var(--edc-bg-color-green_primary)"}),(0,T.jsx)(n.AllFiltersModal,{isOpen:A,title:(0,f.TB)({key:"Search_allContentFilters",defaultTranslatedValue:i.p.Search.all_content_filters}),filtersList:[...null!==m&&void 0!==m&&null!==(s=m.standard_type)&&void 0!==s&&s.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,f.TB)({key:"Search_type",defaultTranslatedValue:i.p.Search.type}),options:(0,v.zS)(null===m||void 0===m?void 0:m.standard_type)||[],handleSelectChangeCallback:e=>{O||w({...L,standard_type:e})},selectedValue:(null===L||void 0===L?void 0:L.standard_type)||[]}]:[],...null!==m&&void 0!==m&&null!==(C=m.language)&&void 0!==C&&C.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,f.TB)({key:"Search_languages",defaultTranslatedValue:i.p.Search.languages}),options:null===m||void 0===m?void 0:m.language,handleSelectChangeCallback:e=>{O||w({...L,language:e})},selectedValue:(null===L||void 0===L?void 0:L.language)||[]}]:[],...null!==m&&void 0!==m&&null!==(_=m.source_id)&&void 0!==_&&_.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,f.TB)({key:"Search_contentSource",defaultTranslatedValue:i.p.Search.content_source}),options:null===m||void 0===m?void 0:m.source_id,selectedValue:(null===L||void 0===L?void 0:L.source_id)||[],handleSelectChangeCallback:e=>{O||w({...L,source_id:e})}}]:[],...null!==D&&void 0!==D&&D.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,f.TB)({key:"Search_author",defaultTranslatedValue:i.p.Search.author}),options:D,handleSelectChangeCallback:e=>{O||w({...L,authorData:e})},selectedValue:(null===L||void 0===L?void 0:L.authorData)||[],hasMore:B,serverSearch:!0,handleViewMoreCallback:Y,handleInputChangeCallback:e=>{P(e)}}]:[],...null!==m&&void 0!==m&&null!==(p=m.plan)&&void 0!==p&&p.length?[{selectType:"selectFilter",listTitle:(0,f.TB)({key:"contentPricingListing",defaultTranslatedValue:i.p.Search.pricing}),options:null===m||void 0===m?void 0:m.plan,selectedValue:(null===L||void 0===L?void 0:L.plan)||[],handleSelectChangeCallback:e=>{O||w({...L,plan:e})}}]:[],...null!==m&&void 0!==m&&null!==(S=m.duration)&&void 0!==S&&S.length?[{selectType:"selectFilter",listTitle:(0,f.TB)({key:"duration",defaultTranslatedValue:i.p.Search.duration}),options:null===m||void 0===m?void 0:m.duration,selectedValue:(null===L||void 0===L?void 0:L.duration)||[],handleSelectChangeCallback:e=>{O||w({...L,duration:e})}}]:[],...null!==m&&void 0!==m&&null!==(E=m.provider)&&void 0!==E&&E.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,f.TB)({key:"provider",defaultTranslatedValue:i.p.Search.provider}),options:null===m||void 0===m?void 0:m.provider,handleSelectChangeCallback:e=>{O||w({...L,provider:e})},selectedValue:(null===L||void 0===L?void 0:L.provider)||[]}]:[],...null!==m&&void 0!==m&&null!==(x=m.skills)&&void 0!==x&&x.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,f.TB)({key:"skillsText",defaultTranslatedValue:i.p.Search.skills}),options:null===m||void 0===m?void 0:m.skills,handleSelectChangeCallback:e=>{O||w({...L,skills:e})},selectedValue:(null===L||void 0===L?void 0:L.skills)||[]}]:[],...null!==m&&void 0!==m&&null!==(b=m.level)&&void 0!==b&&b.length?[{selectType:"selectFilter",listTitle:(0,f.TB)({key:"level",defaultTranslatedValue:i.p.Search.level}),options:null===m||void 0===m?void 0:m.level,selectedValue:(null===L||void 0===L?void 0:L.level)||[],handleSelectChangeCallback:e=>{O||w({...L,level:e})}}]:[]],headerButtons:[{text:(0,f.TB)({key:"cancel",defaultTranslatedValue:i.p.Search.cancel}),cb:()=>{H(!1),j(!0)}},{text:(0,f.TB)({key:"apply",defaultTranslatedValue:i.p.Search.apply}),cb:()=>{k({...g,content:L}),H(!1)}}],searchPlaceholderText:(0,f.TB)({key:"Search_searchHere",defaultTranslatedValue:i.p.Search.search_here}),viewMoreText:(0,f.TB)({key:"viewMore",defaultTranslatedValue:i.p.Search.view_more})})]},y)}))},7304:(e,l,a)=>{a.r(l),a.d(l,{default:()=>B});var t=a(1649),n=a(2143),s=a(3442),d=a(9467),o=a(5422),i=a.n(o),u=a(2856),r=a(5490),c=a(8984),v=a(5201),f=a(744),h=a(4683);const T=async e=>{let{channelId:l,offset:a,filter_by_language:t=!0}=e,n="".concat(u.default.LXP_RESOURCES.CHANNELS,"/").concat(l,"/cards?sort&limit=").concat(u.default.LIMIT_10,"&offset=").concat(a);return n+="&filter_by_language=".concat(t),await(0,f.x)({url:n,requestType:u.default.HTTP_METHOD.GET})},C=async e=>{let{id:l,limit:a,offset:t}=e;const n=(0,h.Z)({limit:a,offset:t,id:l});return await(0,f.x)({url:n,requestType:u.default.HTTP_METHOD.GET})};var _=a(5338),p=a(7064),S=a(8079),E=a(8958),x=a(8170);const b=e=>{var l,a,t;let{tabs:n}=e,s=[];const d=[null===(l=u.default.CHANNEL_TAB_KEY.HOME)||void 0===l?void 0:l.toLocaleLowerCase(),null===(a=u.default.CHANNEL_TAB_KEY.ABOUT)||void 0===a?void 0:a.toLocaleLowerCase(),null===(t=u.default.CHANNEL_TAB_KEY.CHANNEL_ALL_CONTENT)||void 0===t?void 0:t.toLocaleLowerCase()];return(null===n||void 0===n?void 0:n.find((e=>{var l;return e.custom_carousal||d.includes(null===(l=e.default_label)||void 0===l?void 0:l.toLocaleLowerCase())})))?(n.forEach((e=>{const l=(null===e||void 0===e?void 0:e.default_label)||"";null!==e&&void 0!==e&&e.visible&&(null!==e&&void 0!==e&&e.id&&s.push({navIndex:l,label:l,index:null===e||void 0===e?void 0:e.index}),l===u.default.CHANNEL_TAB_KEY.HOME&&s.push({navIndex:l,label:(0,p.HQ)({key:"Channels_home",defaultTranslatedValue:r.p.Channels.home}),index:null===e||void 0===e?void 0:e.index}),l===u.default.CHANNEL_TAB_KEY.ABOUT&&s.push({navIndex:l,label:(0,p.HQ)({key:"about",defaultTranslatedValue:r.p.Channels.about}),index:null===e||void 0===e?void 0:e.index}),l===u.default.CHANNEL_TAB_KEY.CHANNEL_ALL_CONTENT&&s.push({navIndex:l,label:(0,p.HQ)({key:"Channels_allContentPost",defaultTranslatedValue:r.p.Channels.all_content_post}),index:null===e||void 0===e?void 0:e.index}))})),null===s||void 0===s?void 0:s.sort(((e,l)=>e.index-l.index))):[{navIndex:u.default.CHANNEL_TAB_KEY.HOME,index:1,label:(0,p.HQ)({key:"Channels_home",defaultTranslatedValue:r.p.Channels.home})},{navIndex:u.default.CHANNEL_TAB_KEY.ABOUT,index:2,label:(0,p.HQ)({key:"about",defaultTranslatedValue:r.p.Channels.about})},{navIndex:u.default.CHANNEL_TAB_KEY.CHANNEL_ALL_CONTENT,index:3,label:(0,p.HQ)({key:"Channels_allContentPost",defaultTranslatedValue:r.p.Channels.all_content_post})}]},y=e=>{let{heading:l,subHeading:a,carouselData:t,tab:s,count:d,setCurrentTab:o}=e;return(0,x.jsxs)("div",{className:"edc-pb-32 ".concat(l===(0,p.HQ)({key:"Channels_featured",defaultTranslatedValue:r.p.Channels.featured})?"edc-channel-featured":""),children:[(0,x.jsxs)("div",{className:"edc-search-section-head",children:[(0,x.jsxs)("h3",{className:"edc-search-section-title",children:[!s&&(0,x.jsx)(n.StarIcon,{})," ",l," ",(0,x.jsxs)("span",{className:"edc-channel-sub-heading-title",children:[a&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"price-vertical-divider"}),a]})," ",d>0&&"(".concat(d,")")]})]}),s&&(0,x.jsx)("span",{className:"edc-search-view-all",onClick:()=>{o(s)},children:t.length>u.default.CAROUSEL_CARD_COUNT&&(0,p.HQ)({key:"viewAll",defaultTranslatedValue:r.p.Channels.view_all})})]}),(0,x.jsx)("div",{className:"edc-search-carousel-container",children:(0,x.jsx)(E.default,{carouselType:u.default.CAROUSEL_TYPE.CARD,cards:t})})]},s)},m=e=>{const{CARD_SUBTYPE:l}=u.default,a=[{label:(0,p.HQ)({key:"pathways",defaultTranslatedValue:r.p.Channels.pathways}),navIndex:l.PATHWAY},{label:(0,p.HQ)({key:"journey",defaultTranslatedValue:r.p.Channels.journey}),navIndex:l.JOURNEY},{label:(0,p.HQ)({key:"smartcards",defaultTranslatedValue:r.p.Channels.smart_cards}),navIndex:l.CARD},{label:(0,p.HQ)({key:"Channels_streams",defaultTranslatedValue:r.p.Channels.streams}),navIndex:l.VIDEO_STREAM},{label:(0,p.HQ)({key:"Channels_courses",defaultTranslatedValue:r.p.Channels.courses}),navIndex:l.COURSE}];return e?a.map((e=>{let{label:l,navIndex:a}=e;return{label:l,value:a}})):a},g=e=>{let{curators:l=[],userId:a=""}=e;return null===l||void 0===l?void 0:l.some((e=>e.id==a))};var k=a(8411),I=a(599),N=a(24),A=a(7846),H=a(3838);const L=e=>{var l,a;let{channel:s,setCurrentTab:d}=e;const[o,h]=(0,t.useState)([]),[E,b]=(0,t.useState)(0),[g,L]=(0,t.useState)({cards:[],count:0}),[w,V]=(0,t.useState)(!1),[R,O]=(0,t.useState)(0),[j,D]=(0,t.useState)(!0),[M,B]=(0,t.useState)(!1),[F,Q]=(0,t.useState)(""),[P,U]=(0,t.useState)([]),[Y,W]=(0,t.useState)({}),[G,K]=(0,t.useState)(I.Ml),[Z,X]=(0,t.useState)({cards:[],count:0}),[q,J]=(0,t.useState)([]),[z,$]=(0,t.useState)([]),{orgInfo:ee,userInfo:le}=(0,t.useContext)(c.Il),ae=(0,v.p)(),te=(0,k.c3)(ee),ne=null===te||void 0===te||null===(l=te.web)||void 0===l?void 0:l.labels,se=(0,t.useCallback)((async()=>{const[e,l]=await(async e=>{let{channelId:l,filter_by_language:a=!0}=e,t="pin[pinnable_id]=".concat(l,"&pin[pinnable_type]=Channel&limit=").concat(u.default.LIMIT_10,"&offset=0"),n="".concat(u.default.LXP_RESOURCES.PIN_CARDS,"?").concat(t);return n+="&filter_by_language=".concat(a),await(0,f.x)({url:n,requestType:u.default.HTTP_METHOD.GET})})({channelId:s.id});e?X({cards:(null===e||void 0===e?void 0:e.pins)||[],count:(null===e||void 0===e?void 0:e.total)||0}):l&&l.message&&ae.open((0,p.HQ)({key:"errorMessage",defaultTranslatedValue:r.p.Channels.error_message}))}),[s.id,ae]),de=(0,t.useCallback)((async()=>{const e=await(async e=>{var l;const a=[],t=[];null===e||void 0===e||null===(l=e.carousels)||void 0===l||l.forEach((e=>{e.id&&e.visible&&(a.push(C({id:e.id,limit:u.default.LIMIT_10,offset:0})),t.push(e))}));const n=await Promise.all(a);return(null===n||void 0===n?void 0:n.map(((e,l)=>{var a;let{0:n}=e;return{cards:(null===n||void 0===n||null===(a=n.structuredItems)||void 0===a?void 0:a.map((e=>e.entity)))||[],count:(null===n||void 0===n?void 0:n.total)||0,label:t[l].default_label}})))||[]})(s);J(e)}),[s]),oe=(0,t.useCallback)((async(e,l,a)=>{d(u.default.CHANNEL_TAB_KEY.HOME),D(!0),W({});const t=l,n=((e,l)=>{var a,t,n;const s=[];null===e||void 0===e||null===(a=e.standard_type)||void 0===a||null===(t=a.standard_type)||void 0===t||null===(n=t.buckets)||void 0===n||n.forEach((e=>{let{key:l}=e;l!==u.default.CARD_SUBTYPE.JOURNEY&&l!==u.default.LOWER_CASE_PATHWAY&&s.push(l)}));let d=[];return l.includes(u.default.CARD_SUBTYPE.PATHWAY)&&d.push(u.default.LOWER_CASE_PATHWAY),l.includes(u.default.CARD_SUBTYPE.JOURNEY)&&d.push(u.default.CARD_SUBTYPE.JOURNEY),l.includes(u.default.CARD_SUBTYPE.CARD)&&(d=[...d,...s]),l.includes(u.default.CARD_SUBTYPE.VIDEO_STREAM)&&d.push(u.default.CARD_TYPE.VIDEO_STREAM),l.includes(u.default.CARD_SUBTYPE.COURSE)&&d.push(u.default.CARD_TYPE.COURSE),{standard_type:d}})(z,e),{internalCards:i,internalCardsCount:r,aggs:c}=await(0,I.xU)({channelId:s.id,userInfo:le,orgInfo:ee,limit:u.default.LIMIT_TWENTY,offset:t,payload:n});(0,S.xb)(z)&&$(c),h(a?[...o,...i]:i),O(t+u.default.LIMIT_TWENTY),b(r),D(!1)}),[o,s.id,ee,d,z,le]),ie=(0,t.useCallback)(((e,l)=>{U(e?[...P,l]:null===P||void 0===P?void 0:P.filter((e=>e!==l)))}),[P]),ue=(0,t.useCallback)((e=>{h([]);const l=Object.keys(e);U(l),oe(l,0),V(l.length>0)}),[oe]),re=(0,t.useMemo)((()=>(0,_.E1)({myCustomLevels:ne})),[ne]),ce=(0,t.useMemo)((()=>{var e;return(0,_.b5)({skillLabels:re,proficiencyLevels:null===ee||void 0===ee?void 0:ee.proficiencyLevels,selectedLanguage:(null===le||void 0===le||null===(e=le.profile)||void 0===e?void 0:e.language)||"en",includeNoLevel:!1})}),[null===ee||void 0===ee?void 0:ee.proficiencyLevels,re,null===le||void 0===le||null===(a=le.profile)||void 0===a?void 0:a.language]),ve=(0,t.useCallback)((async e=>{let{offset:l=0,isScroll:a=!1,filter:t=I.Ml,noFilterRefresh:n=!1}=e;d(u.default.SEARCH),b(0),V(!1),D(!0),a||h([]);const o=(0,I.hw)(t);K(t);const{internalCards:i,internalCardsCount:r,aggs:c}=await(0,I.xU)({channelId:s.id,userInfo:le,orgInfo:ee,searchText:F,limit:u.default.LIMIT_TWENTY,offset:l,payload:o});if(O(l),h((e=>a?[...e,...i]:i)),D(!1),b(r),!n){const e=await(0,I.Im)({aggs:c,filterAggs:{},userInfo:le,orgInfo:ee,eclEnabled:!1,isChannel:!0,proficiencySkillLevels:ce});W(e.content)}}),[d,s.id,le,ee,F,ce]),fe=i()((e=>{Q(e),K(I.Ml),W(I.Ml)}),500),he=(0,t.useCallback)((async e=>{let{offset:l=u.default.OFFSET}=e;const[a,t]=await T({channelId:s.id,offset:l});t&&t.message&&ae.open((0,p.HQ)({key:"errorMessage",defaultTranslatedValue:r.p.Channels.error_message})),a&&L({cards:(null===a||void 0===a?void 0:a.cards)||[],count:(null===a||void 0===a?void 0:a.total)||0})}),[s.id,ae]),Te=(0,t.useCallback)((e=>{ve({filter:e,noFilterRefresh:!0})}),[ve]),Ce=(0,t.useCallback)((e=>{ve({offset:e+u.default.LIMIT_TWENTY,filter:G,isScroll:!0})}),[ve,G]);return(0,t.useEffect)((()=>{se(),de(),he({})}),[he,se,de]),(0,t.useEffect)((()=>{F&&ve({})}),[ve,F]),(0,x.jsxs)("div",{className:"edc-channel-detail-home",children:[(0,x.jsxs)("div",{className:"edc-channel-filter-container ".concat(F?"edc-flex-col":""),children:[F?null:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.DropdownPickerWithIcon,{label:"Filter",icon:(0,x.jsx)(n.FilterIcon,{width:"14px",height:"14px"}),pickerOptions:m(!0),selectedOptionIds:P,handleCheckboxChange:ie,onOpenDropDown:B,showOptions:M,footerButtons:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.PrimaryButton,{text:(0,p.HQ)({key:"reset",defaultTranslatedValue:r.p.Channels.reset}),variant:"outlined",className:"edc-my-2 edc-ml-0 edc-dropdown-picker-footer-btn edc-text-secondary edc-dropdown-picker-reset-btn edc-text-sm",onClick:()=>{U([])}}),(0,x.jsx)(n.PrimaryButton,{text:(0,p.HQ)({key:"save",defaultTranslatedValue:r.p.Channels.save}),className:"edc-my-2 edc-ml-0 edc-dropdown-picker-footer-btn edc-text-sm",onClick:()=>{h([]),oe(P,0),V(P.length>0),B(!1)}})]})}),(0,x.jsx)(n.FilterNavVarient,{isDrawerVisible:!1,data:m(),handleFilterNavChange:ue,navType:"checkbox",moreLabel:(0,p.Tu)({key:"TopNav_more",defaultTranslatedValue:r.p.TopNav.more}),loading:j})]}),(0,x.jsx)(n.Search,{defaultValue:F,onSearchInputChange:fe,placeholder:(0,p.HQ)({key:"Channels_searchContent",defaultTranslatedValue:r.p.Channels.search_content})}),F&&!(0,S.xb)(Y.standard_type)?(0,x.jsx)(A.Z,{options:Y,selectedFilters:G,setSelectedFilters:Te}):null]}),F?(0,x.jsxs)(x.Fragment,{children:[(0,I.TB)({searchCount:E,searchTextValue:F}),(0,I.Su)({filters:G.content,removeFilterById:e=>{const l=(0,I.Zu)({filterId:e,selectedFilters:G});Te(l)},onClearAllFilters:()=>Te({...G,content:{}})})]}):null,w||F||j?null:(0,x.jsxs)("div",{className:"edc-search-result-container",children:[(0,S.xb)(Z.cards)?null:y({heading:(0,p.HQ)({key:"Channels_featured",defaultTranslatedValue:r.p.Channels.featured}),subHeading:(0,p.HQ)({key:"Channels_featuredContentSubheading",defaultTranslatedValue:r.p.Channels.featured_content_subheading}),carouselData:Z.cards,count:Z.count,setCurrentTab:d}),!(0,S.xb)(g.cards)&&g.cards?y({heading:(0,p.HQ)({key:"Channels_allContentPost",defaultTranslatedValue:r.p.Channels.all_content_post}),subHeading:(0,p.HQ)({key:"Channels_allTabSubHeading",defaultTranslatedValue:r.p.Channels.all_tab_sub_heading}),carouselData:g.cards,tab:u.default.CHANNEL_TAB_KEY.CHANNEL_ALL_CONTENT,count:g.count,setCurrentTab:d}):null,(0,S.xb)(q)?null:null===q||void 0===q?void 0:q.map((e=>(0,S.xb)(e.cards)?"":y({heading:e.label,carouselData:e.cards,tab:e.label,count:e.count,setCurrentTab:d})))]}),w||F?(0,x.jsx)("div",{className:"edc-view-all-container edc-all-tab-height",children:!(0,S.xb)(o)&&(null===o||void 0===o?void 0:o.map((e=>(0,x.jsx)(N.default,{cardData:e},e.id))))}):null,!j&&(0,S.xb)(o)?(0,x.jsx)(n.NoContentIcon,{label:w?(0,p.HQ)({key:"Channels_noDataFound",defaultTranslatedValue:r.p.Channels.no_data_found}):(0,p.HQ)({key:"Channels_noDataFound",defaultTranslatedValue:r.p.Channels.no_channel_content}),circleRadius:"150"}):null,j?(0,x.jsx)("div",{className:"edc-spinner-container edc-pt-4 ",children:(0,x.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,p.HQ)({key:"Channels_findingCards",defaultTranslatedValue:r.p.Channels.finding_cards})})}):null,F&&!j&&E>o.length?(0,x.jsx)(H.Z,{onClick:()=>Ce(R)}):null]})},w=e=>{var l;let{modalHeading:a,isModalOpen:d,closeModal:o,userData:i,getCuratorData:c,getContributorsData:v,getTrustedCollaboratorsData:f}=e;const[h,T]=(0,t.useState)(u.default.VIEW_CHANNEL_DEFAULT_OFFSET),C=(0,t.useCallback)((e=>{(0,S.d1)(e)&&(a===u.default.DETAILS_VIEW_TITLES.CURATORS?c({offset:h,userData:i}):a===u.default.DETAILS_VIEW_TITLES.COLLABORATORS?v({offset:h,userData:i}):f({offset:h,userData:i}),T(h+u.default.CHANNEL_ABOUT_USERS_LIMIT))}),[h,i,c,a,v,f]),_=(0,s.s0)(),E=(0,t.useMemo)((()=>{var e;let l;l=a===u.default.DETAILS_VIEW_TITLES.CURATORS?(0,p.HQ)({key:"curators",defaultTranslatedValue:r.p.Channels.curators_text}):a===u.default.DETAILS_VIEW_TITLES.COLLABORATORS?(0,p.HQ)({key:"collaborators",defaultTranslatedValue:r.p.Channels.collaborators_text}):(0,p.HQ)({key:"Channels_trustedCollaborators",defaultTranslatedValue:r.p.Channels.trusted_collaborators});const t=null===(e=l)||void 0===e?void 0:e.trim();return":"===(null===t||void 0===t?void 0:t.substr(-1))?null===t||void 0===t?void 0:t.substring(0,t.length-1):l}),[a]);return(0,x.jsx)("div",{className:"",children:(0,x.jsxs)(n.Dialog,{open:d,onClose:o,style:{width:"600px"},children:[(0,x.jsx)(n.Dialog.Header,{className:"edc-view-all-profile-dialog-header",title:"".concat(E," (").concat(null===i||void 0===i?void 0:i.total,")")}),(0,x.jsx)(n.Dialog.Content,{children:(0,x.jsx)("div",{className:" ".concat((null===i||void 0===i?void 0:i.total)<8?"":"edc-view-all-user-height"," edc-view-all-user-profile-container"),onScroll:C,children:null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.map(((e,l)=>{var a;return(0,x.jsxs)("div",{className:"edc-view-all-user-single-profile",onClick:()=>_("".concat(u.default.PAGES.USER_PROFILE,"/").concat(null===e||void 0===e?void 0:e.id)),children:[(0,x.jsx)("div",{children:(0,x.jsx)("img",{className:"edc-view-all-avatar-image",src:null===e||void 0===e?void 0:e.imgSrc,alt:"".concat(null===e||void 0===e?void 0:e.name)})}),(0,x.jsxs)("div",{className:"edc-about-view-user-text",children:[null===e||void 0===e?void 0:e.name.slice(0,10),"..."]})]},null!==(a=null===e||void 0===e?void 0:e.id)&&void 0!==a?a:l)}))})}),(0,x.jsx)(n.Dialog.Footer,{children:(0,x.jsx)(n.PrimaryButton,{variant:"outlined",text:(0,p.HQ)({key:"cancel",defaultTranslatedValue:r.p.Channels.cancel}),color:"black",className:"edc-view-all-user-cancel-button",onClick:o})})]})})},V=e=>{let{isPrivate:l,channel:a}=e;const d=(0,s.s0)(),{orgInfo:o,userInfo:i}=(0,t.useContext)(c.Il),[h,T]=(0,t.useState)({}),[C,_]=(0,t.useState)({}),[E,b]=(0,t.useState)({}),[y,m]=(0,t.useState)({}),[k,I]=(0,t.useState)(!1),[N,A]=(0,t.useState)(""),H=(0,v.p)(),L=(0,t.useMemo)((()=>{var e,l;return null===o||void 0===o||null===(e=o.configs)||void 0===e||null===(l=e.find((e=>e.name===u.default.SHOW_CURATOR_CONFIG_KEY)))||void 0===l?void 0:l.value}),[o]),V=(0,t.useMemo)((()=>{var e,l;return null===o||void 0===o||null===(e=o.configs)||void 0===e||null===(l=e.find((e=>e.name===u.default.SHOW_TRUSTED_COLLABORATORS_CONFIG_KEY)))||void 0===l?void 0:l.value}),[o]),{creator:R,curators:O}=a,j=(0,t.useMemo)((()=>(e=>{let{creator:l,userId:a,isCurrentUserCurator:t}=e;return(null===l||void 0===l?void 0:l.id)==a||t})({creator:R,userId:i.id,isCurrentUserCurator:g({curators:O,userId:i.id})})),[O,R,i.id]),D=(0,t.useCallback)((async e=>{let{offset:l=0,userData:t}=e;const[n,s]=await(async e=>{let{channelId:l,offset:a}=e,t="".concat(u.default.LXP_RESOURCES.CHANNELS,"/").concat(l,"/curators?limit=").concat(u.default.CHANNEL_ABOUT_USERS_LIMIT,"&offset=").concat(a);return await(0,f.x)({url:t,requestType:u.default.HTTP_METHOD.GET})})({channelId:null===a||void 0===a?void 0:a.id,offset:l});var d;if(s)H.open((null===s||void 0===s||null===(d=s.data)||void 0===d?void 0:d.message)||u.default.ERRORS.MESSAGE);else if(n){const e=(0,S.p9)(null===n||void 0===n?void 0:n.curators);var o;if(0===l)T({total:n.total,data:e});else _({total:null===n||void 0===n?void 0:n.total,data:[...null!==(o=null===t||void 0===t?void 0:t.data)&&void 0!==o?o:[],...e]})}}),[null===a||void 0===a?void 0:a.id,H]),M=(0,t.useCallback)((async e=>{let{offset:l=0,userData:t}=e;const[n,s]=await(async e=>{let{channelId:l,offset:a}=e,t="".concat(u.default.LXP_RESOURCES.CHANNELS,"/").concat(l,"/contributors?limit=").concat(u.default.CHANNEL_ABOUT_USERS_LIMIT,"&offset=").concat(a);return await(0,f.x)({url:t,requestType:u.default.HTTP_METHOD.GET})})({channelId:null===a||void 0===a?void 0:a.id,offset:l});var d;if(s)H.open((null===s||void 0===s||null===(d=s.data)||void 0===d?void 0:d.message)||u.default.ERRORS.MESSAGE);else if(n){const e=(0,S.p9)(null===n||void 0===n?void 0:n.authors);var o;if(0===l)b({total:n.total,data:e});else _({total:null===n||void 0===n?void 0:n.total,data:[...null!==(o=null===t||void 0===t?void 0:t.data)&&void 0!==o?o:[],...e]})}}),[null===a||void 0===a?void 0:a.id,H]),B=(0,t.useCallback)((async e=>{let{offset:l=0,userData:t}=e;const[n,s]=await(async e=>{let{channelId:l,offset:a}=e,t="".concat(u.default.LXP_RESOURCES.CHANNELS,"/").concat(l,"/trusted_collaborators?limit=").concat(u.default.CHANNEL_ABOUT_USERS_LIMIT,"&offset=").concat(a);return await(0,f.x)({url:t,requestType:u.default.HTTP_METHOD.GET})})({channelId:null===a||void 0===a?void 0:a.id,offset:l});var d;if(s)H.open((null===s||void 0===s||null===(d=s.data)||void 0===d?void 0:d.message)||u.default.ERRORS.MESSAGE);else if(n){const e=(0,S.p9)(null===n||void 0===n?void 0:n.trustedCollaborators);var o;if(0===l)m({data:e,total:null===n||void 0===n?void 0:n.total});else _({total:null===n||void 0===n?void 0:n.total,data:[...null!==(o=null===t||void 0===t?void 0:t.data)&&void 0!==o?o:[],...e]})}}),[null===a||void 0===a?void 0:a.id,H]),F=(0,t.useCallback)((e=>{I(!0),A(e),e===u.default.DETAILS_VIEW_TITLES.CURATORS?_(h):e===u.default.DETAILS_VIEW_TITLES.COLLABORATORS?_(E):e===u.default.DETAILS_VIEW_TITLES.TRUSTED_COLLABORATORS&&_(y)}),[E,h,y]);return(0,t.useEffect)((()=>{D({}),j&&(M({}),V&&B({}))}),[D,M,B,j,V]),(0,x.jsxs)("div",{children:[(0,x.jsx)(n.DetailAboutView,{aboutText:(0,p.HQ)({key:"about",defaultTranslatedValue:r.p.Channels.about}),aboutDetails:{description:null===a||void 0===a?void 0:a.description,collaborators:null===E||void 0===E?void 0:E.data,curators:null===h||void 0===h?void 0:h.data,trustedCollaborators:V?null===y||void 0===y?void 0:y.data:[],isShowCurators:L},handleProfileClick:e=>{d("".concat(u.default.PAGES.USER_PROFILE,"/").concat(e))},providerImgCallback:function(){},viewAllCallback:F,publicOrPrivateDescription:l?(0,p.HQ)({key:"Channels_privateChannelInfo",defaultTranslatedValue:r.p.Channels.privateChannelInfo}):(0,p.HQ)({key:"Channels_publicChannelInfo",defaultTranslatedValue:r.p.Channels.publicChannelInfo}),noInfoLabel:(0,p.HQ)({key:"Channels_noDescriptionFound",defaultTranslatedValue:r.p.Channels.no_description_found}),isPrivate:l,channelOrGroupText:l?(0,p.HQ)({key:"Channels_privateChannelText",defaultTranslatedValue:r.p.Channels.privateChannelText}):(0,p.HQ)({key:"Channels_publicChannelText",defaultTranslatedValue:r.p.Channels.publicChannelText}),trustedCollaboratorsText:(0,p.HQ)({key:"trustedCollaborators",defaultTranslatedValue:r.p.Channels.trusted_collaborators_text}),providerText:(0,p.HQ)({key:"provider",defaultTranslatedValue:r.p.Channels.provider_text}),collaboratorsText:(0,p.HQ)({key:"collaborators",defaultTranslatedValue:r.p.Channels.collaborators_text}),viewAllText:(0,p.HQ)({key:"viewAll",defaultTranslatedValue:r.p.Channels.view_all_text}),curatorsText:(0,p.HQ)({key:"curators",defaultTranslatedValue:r.p.Channels.curators_text}),aboutDescriptionText:(0,p.HQ)({key:"description",defaultTranslatedValue:r.p.Channels.about_description_text})}),k?(0,x.jsx)(w,{getCuratorData:D,getContributorsData:M,getTrustedCollaboratorsData:B,modalHeading:N,isModalOpen:k,closeModal:()=>I(!1),userData:C}):null]})},R=e=>{let{channelId:l}=e;const[a,s]=(0,t.useState)(u.default.OFFSET),[d,o]=(0,t.useState)(0),[i,c]=(0,t.useState)(!0),[f,h]=(0,t.useState)(),C=(0,v.p)(),_=(0,t.useCallback)((async e=>{let{offset:a=u.default.OFFSET}=e;try{c(!0),s(a);const[e,n]=await T({channelId:l,offset:a});var t;if(n)C.open((null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||u.default.ERRORS.MESSAGE);e&&(0===a?(h(null===e||void 0===e?void 0:e.cards),o(null===e||void 0===e?void 0:e.total)):h((l=>{var a;return[...l,...null!==(a=null===e||void 0===e?void 0:e.cards)&&void 0!==a?a:[]]})))}catch(d){var n;C.open((null===d||void 0===d||null===(n=d.data)||void 0===n?void 0:n.message)||u.default.ERRORS.MESSAGE)}finally{c(!1)}}),[l,C]),E=(0,t.useCallback)((e=>{_({offset:e+u.default.LIMIT_10})}),[_]);return(0,t.useEffect)((()=>{_({})}),[_]),(0,x.jsxs)("div",{className:"edc-channel-custom-tab",children:[d>0?(0,x.jsxs)("div",{className:"edc-channel-sub-title",children:[d," ",(0,p.HQ)({key:"Channels_items",defaultTranslatedValue:r.p.Channels.items})]}):null,!i&&(0,S.xb)(f)?(0,x.jsx)(n.NoContentIcon,{iconWidth:38.55,iconHeight:49,circleRadius:140,label:(0,p.HQ)({key:"Channels_noChannelContent",defaultTranslatedValue:r.p.Channels.no_channel_content})}):(0,x.jsx)("div",{className:"edc-view-all-cards-container",children:(0,x.jsxs)("div",{className:"edc-view-all-cards",children:[(0,S.xb)(f)?null:(0,x.jsx)("div",{className:"edc-view-all-container edc-all-tab-height edc-card-all-post-content",children:null===f||void 0===f?void 0:f.map(((e,l)=>{var a;return(0,x.jsx)(t.Suspense,{fallback:(0,x.jsx)(n.SmartCardSkeleton,{}),children:(0,x.jsx)(N.default,{cardData:e},null!==(a=null===e||void 0===e?void 0:e.id)&&void 0!==a?a:l)},l)}))}),i?(0,x.jsx)("div",{className:"edc-spinner-container edc-pt-4",children:(0,x.jsx)(n.Spinner,{variant:"lg",spinnerMessage:0===d?(0,p.TB)({key:"waitingCardsLoaderLabel",defaultTranslatedValue:r.p.Search.waiting_cards_loader_label}):(0,p.HQ)({key:"loadingMoreData",defaultTranslatedValue:r.p.Channels.loading_more_data})})}):null,!i&&d>f.length?(0,x.jsx)(H.Z,{onClick:()=>E(a)}):null]})})]})},O=e=>{let{tabId:l}=e;const[a,s]=(0,t.useState)([]),[d,o]=(0,t.useState)(0),[i,c]=(0,t.useState)(0),[v,f]=(0,t.useState)(!1),h=(0,t.useCallback)((async e=>{var a;let{offset:t}=e;f(!0);const[n,d]=await C({id:l,limit:u.default.LIMIT_10,offset:t});if(d)return;const i=(null===n||void 0===n||null===(a=n.structuredItems)||void 0===a?void 0:a.map((e=>e.entity)))||[];s((e=>0===t?i:[...e,...i])),o((null===n||void 0===n?void 0:n.total)||0),c(t),f(!1)}),[l]),T=(0,t.useCallback)((e=>{h({offset:e+u.default.LIMIT_10})}),[h]);return(0,t.useEffect)((()=>{h({offset:0})}),[h]),(0,x.jsxs)("div",{className:"edc-channel-custom-tab",children:[d>0?(0,x.jsxs)("span",{className:"edc-channel-sub-title",children:[d," ",(0,p.HQ)({key:"Channels_items",defaultTranslatedValue:r.p.Channels.items})]}):null,!v&&(0,S.xb)(a)?(0,x.jsx)(n.NoContentIcon,{label:(0,p.HQ)({key:"Channels_noChannelContent",defaultTranslatedValue:r.p.Channels.no_channel_content}),circleRadius:"150"}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"edc-view-all-container edc-all-tab-height",children:[(0,S.xb)(a)?null:null===a||void 0===a?void 0:a.map((e=>(0,x.jsx)(N.default,{cardData:e},e.id))),v?(0,x.jsx)("div",{className:"edc-spinner-container",children:(0,x.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,p.HQ)({key:"Channels_findingCards",defaultTranslatedValue:r.p.Channels.finding_cards})})}):null]}),!v&&d>a.length?(0,x.jsx)(H.Z,{onClick:()=>T(i)}):null]})]})};var j=a(4959);const D=e=>{let{channelId:l}=e;const[a,d]=(0,t.useState)([]),[o,i]=(0,t.useState)(0),[c,v]=(0,t.useState)(!0),[h,T]=(0,t.useState)(0),C=(0,s.s0)(),_=(0,t.useCallback)((async e=>{let{isScroll:a,offset:t,followers:n=[]}=e;v(!0),T(t);const[s,o]=await(async e=>{let{channelId:l,offset:a}=e,t="".concat(u.default.LXP_RESOURCES.CHANNELS,"/").concat(l,"/followers?limit=").concat(u.default.LIMIT_TWENTY,"&offset=").concat(a,"&q=");return await(0,f.x)({url:t,requestType:u.default.HTTP_METHOD.GET})})({channelId:l,offset:t});o||(d(a?[...n,...s.followers]:s.followers),i((null===s||void 0===s?void 0:s.total)||0),v(!1))}),[l]);return(0,t.useEffect)((()=>{_({isScroll:!1,offset:0})}),[_]),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"edc-channels-followers-title",children:[o," ",(0,p.HQ)({key:"Followers",defaultTranslatedValue:r.p.Channels.followers})]}),(0,x.jsx)(n.Divider,{}),(0,x.jsxs)("div",{className:"edc-channels-followers",onScroll:e=>{!c&&(0,S.d1)(e)&&h<o&&_({isScroll:!0,offset:h+u.default.LIMIT_TWENTY,followers:a})},children:[(0,S.xb)(a)?null:null===a||void 0===a?void 0:a.map((e=>(0,x.jsx)(n.MemberCell,{id:e.id,avatarImage:(0,j.HK)(e),name:e.fullName,callback:e=>C("".concat(u.default.PAGES.USER_PROFILE,"/").concat(e))},e.id))),c?(0,x.jsx)("div",{className:"edc-spinner-container edc-pt-4 ",children:(0,x.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,p.HQ)({key:"loading",defaultTranslatedValue:r.p.Channels.loading})})}):null]})]})};var M=a(4019);const B=()=>{const[e,l]=(0,t.useState)({}),[a,o]=(0,t.useState)(!0),[i,h]=(0,t.useState)(""),[T,C]=(0,t.useState)(!1),_=(0,s.UO)(),E=(0,v.p)(),{orgInfo:y,rootElement:m}=(0,t.useContext)(c.Il),[g,k]=(0,t.useState)(),I=(0,t.useMemo)((()=>{var e,l;return null===y||void 0===y||null===(e=y.configs)||void 0===e||null===(l=e.find((e=>e.name===u.default.ADMIN_CONFIG.PRIVATE_CHANNEL_SHOW_LOCK_ICON)))||void 0===l?void 0:l.value}),[y.configs]),N=(0,t.useCallback)((async()=>{var e,a;k("");const[t,n]=await(async e=>{let l="".concat(u.default.LXP_RESOURCES.CHANNELS,"/").concat(e,".json");return await(0,f.x)({url:l,requestType:u.default.HTTP_METHOD.GET})})(_.channelId);var s;n?E.open((null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||u.default.ERRORS.MESSAGE):(l({...t,cardImgSrc:(null===t||void 0===t||null===(e=t.profileImageUrls)||void 0===e?void 0:e.large_url)||(null===t||void 0===t||null===(a=t.bannerImageUrls)||void 0===a?void 0:a.large_url),title:null===t||void 0===t?void 0:t.label,tabs:b({tabs:t.carousels})}),o(!1))}),[_.channelId,E]),A=(0,t.useMemo)((()=>((e,l)=>{var a;const t=null===e||void 0===e||null===(a=e.carousels)||void 0===a?void 0:a.filter((e=>{let{default_label:a}=e;return l===a}));return!((0,S.xb)(t)||!t[0].id)&&t[0].id})(e,i)),[e,i]),H=(0,t.useMemo)((()=>(e=>{var l;const a=null===e||void 0===e||null===(l=e.configs)||void 0===l?void 0:l.find((e=>e.name===u.default.ADMIN_CONFIG.HIDE_CHANNEL_FOLLOWERS_LIST));return null===a||void 0===a?void 0:a.value})(y)),[y]),w=(0,t.useCallback)((async()=>{const[a,t]=await(0,M.$x)({channel:e});!t||422!==t.status&&403!==t.status||E.open((0,p.HQ)({key:"errorMessage",defaultTranslatedValue:r.p.Channels.error_message})),a&&l({...e,isFollowing:!e.isFollowing,followersCount:e.isFollowing?e.followersCount-1:e.followersCount+1})}),[e,E]);return(0,t.useEffect)((()=>{(0,S.xb)(e.tabs)||h(e.tabs[0].navIndex)}),[e.tabs]),(0,t.useEffect)((()=>{N()}),[N]),null!==g&&void 0!==g&&g.status,(0,x.jsxs)("div",{className:"edc-channel-detail-container ".concat(""),children:[(0,x.jsx)(d.Z,{}),a?(0,x.jsx)("div",{className:"edc-spinner-container",children:(0,x.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,p.HQ)({key:"Channels_loadingChannelDetails",defaultTranslatedValue:r.p.Channels.loading_channel_details})})}):(0,x.jsxs)("div",{children:[(0,x.jsx)(n.ChannelDetailViewHeader,{cardMetaData:e,labels:{follower:(0,p.HQ)({key:"follower",defaultTranslatedValue:r.p.Channels.follower}),followers:(0,p.HQ)({key:"followers",defaultTranslatedValue:r.p.Channels.followers}),following:(0,p.HQ)({key:"following",defaultTranslatedValue:r.p.Channels.following}),follow:(0,p.HQ)({key:"follow",defaultTranslatedValue:r.p.Channels.follow}),more:(0,p.HQ)({key:"more",defaultTranslatedValue:r.p.Channels.more})},isShowLockEnabled:I,handleFollowUnfollowClick:w,handleFollowersClick:()=>C(!H),cardTypeText:(0,p.eO)({key:"Cards_channel",defaultTranslatedValue:r.p.Cards.channel}),disableFollowerList:H}),(0,S.xb)(e.tabs)?null:(0,x.jsx)(n.Navbar,{isDrawerVisible:!1,childrenArray:e.tabs,selectedNavItem:i,handleSelectedNavItemChange:h,numberOfItems:10,MoreLabel:(0,p.Tu)({key:"TopNav_more",defaultTranslatedValue:r.p.TopNav.more}),rootElement:m,moreNavItemClassName:"edc-channel-detail-nav-more-items"}),i===u.default.CHANNEL_TAB_KEY.ABOUT?(0,x.jsx)("div",{children:(0,x.jsx)(V,{channel:e,isPrivate:null===e||void 0===e?void 0:e.isPrivate,currentTab:i})}):null,i===u.default.CHANNEL_TAB_KEY.HOME||i===u.default.SEARCH?(0,x.jsx)(L,{channel:e,currentTab:i,setCurrentTab:h}):null,i===u.default.CHANNEL_TAB_KEY.CHANNEL_ALL_CONTENT?(0,x.jsx)(R,{channelId:e.id}):null,A?(0,x.jsx)(O,{currentTab:i,tabId:A}):null]}),(0,x.jsx)(n.Modal,{isModalOpen:T,modalHeaderData:{headerString:(0,p.HQ)({key:"followers",defaultTranslatedValue:r.p.Channels.followers}),closeModal:()=>C(!1)},modalBodyData:(0,x.jsx)(D,{channelId:e.id}),modalFooterData:{cancelButtonText:(0,p.HQ)({key:"close",defaultTranslatedValue:r.p.Channels.close}),closeModal:()=>C(!1),hasSubmitButton:!1}})]})}}}]);