"use strict";(self.webpackChunkedc_widgets_sfdc=self.webpackChunkedc_widgets_sfdc||[]).push([[256],{2256:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var l=t(1649),d=t(2143),i=t(3442),n=t(2856),s=t(5490),r=t(1839),c=t(7541),o=t(5201),u=t(4019),v=t(4959),m=t(7064),g=t(8079),f=t(8170);const b=e=>{let{selectedTab:a,trainingId:t}=e;const b=(0,o.p)(),h=(0,i.s0)(),x=(0,l.useContext)(c.Z),S=(0,l.useMemo)((()=>[{label:(0,m.AW)({key:"KEY",defaultTranslatedValue:r.w.SmartCardDetailView.liveTabNameLabel}),align:"edc-th-text-left",id:1},{label:(0,m.AW)({key:"KEY",defaultTranslatedValue:r.w.SmartCardDetailView.liveTabHandleLabel}),align:"edc-th-text-left",id:2},{label:(0,m.AW)({key:"KEY",defaultTranslatedValue:r.w.SmartCardDetailView.liveTabRegisteredOnLabel}),align:"edc-th-text-left",id:3},{label:(0,m.AW)({key:"KEY",defaultTranslatedValue:r.w.SmartCardDetailView.liveTabTimeLabel}),align:"edc-th-text-left",id:4},{label:(0,m.AW)({key:"KEY",defaultTranslatedValue:r.w.SmartCardDetailView.liveTabStatusLabel}),align:"edc-th-text-left",id:5}]),[]),[w,T]=(0,l.useState)(!0),[j,k]=(0,l.useState)(0),[C,E]=(0,l.useState)([]),[V,y]=(0,l.useState)(0),N=(0,l.useCallback)((async()=>{T(!0);const[e,l]=await(0,u.AS)({registrationState:a,trainingId:t,limit:n.default.LIMIT_10,offset:j});var d;l&&b.open((null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||n.default.ERRORS.MESSAGE);e&&(E(0===j?(null===e||void 0===e?void 0:e.registrations)||[]:a=>{var t;return[...a,...null!==(t=null===e||void 0===e?void 0:e.registrations)&&void 0!==t?t:[]]}),y(null===e||void 0===e?void 0:e.total)),T(!1)}),[j,a,b,t]);(0,l.useEffect)((()=>{N()}),[N]);const A=(0,l.useMemo)((()=>C.map(((e,a)=>[{align:"edc-text-td-left",id:"name-".concat(a,"-1"),label:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.Avatar,{imgSrc:(0,v.HK)(null===e||void 0===e?void 0:e.registerUser),fullName:e.registerUser.fullName,onClick:()=>{var a;h("".concat(n.default.PAGES.USER_PROFILE,"/").concat(null===e||void 0===e||null===(a=e.registerUser)||void 0===a?void 0:a.id))}})})},{align:"edc-text-td-left edc-text-truncate-1",id:"handle-".concat(a,"-2"),label:(0,f.jsx)("div",{onClick:()=>{var a;h("".concat(n.default.PAGES.USER_PROFILE,"/").concat(null===e||void 0===e||null===(a=e.registerUser)||void 0===a?void 0:a.id))},children:e.registerUser.handle})},{align:"edc-text-td-left",id:"registered-".concat(a,"-4"),label:x(e.registrationDate).format("l")},{align:"edc-text-td-left",id:"time-".concat(a,"-5"),label:x(e.registrationTime,"HH:mm:ss").format("h:mm A")},{align:"edc-text-td-left edc-text-truncate-1",id:"status-".concat(a,"-6"),label:(0,g.fm)(null===e||void 0===e?void 0:e.state)}]))),[C,x,h]),D=(0,l.useCallback)((e=>{(0,g.d1)(e)&&C.length>V&&k((e=>e+n.default.LIMIT_10))}),[C.length,V]);return(0,f.jsx)("div",{className:"edc-live-card-attendees-view-container",children:w?(0,f.jsx)(d.Spinner,{}):C.length?(0,f.jsxs)("div",{className:"edc-live-attendees-container",children:[(0,f.jsx)("div",{className:"edc-live-card-title-header",children:(0,f.jsx)("span",{children:"".concat((0,m.mr)({key:"members",defaultTranslatedValue:s.p.ManagerDashboard.members})," ").concat(C.length>0?C.length:"")})}),(0,f.jsx)("div",{className:"edc-table-container",onScroll:e=>{D(e)},children:(0,f.jsx)(d.Table,{theadData:S,tbodyData:A,customClass:"edc-table"})})]}):(0,f.jsx)("div",{className:"edc-d-flex edc-align-items-center  edc-justify-content-center",children:(0,f.jsxs)("div",{className:"edc-no-result-calender",children:[(0,f.jsx)("div",{className:"edc-no-result-calender-svg",children:(0,f.jsx)(d.CalendarIcon,{width:50,height:50,color:"var(--edc-color-green_primary)"})}),(0,f.jsx)("div",{className:"edc-no-result-label",children:(0,m.eO)({key:"key",defaultTranslatedValue:r.w.SmartCardDetailView.liveNoDataLabel})})]})})})}}}]);