"use strict";(self.webpackChunkedc_widgets_sfdc=self.webpackChunkedc_widgets_sfdc||[]).push([[226,843],{9467:(e,a,l)=>{l.d(a,{Z:()=>c});l(1649);var t=l(2143),n=l(3442),o=l(5490),d=l(7064),u=l(8170);const c=e=>{let{goBack:a}=e;const l=(0,n.s0)();return(0,u.jsx)("div",{className:"edc-position-relative edc-back-button",children:(0,u.jsxs)("div",{onClick:()=>{"function"!==typeof a?l(-1):a()},className:"edc-d-flex edc-pointer edc-align-items-center edc-gap-one-fourth edc-back-button-icon-and-text",children:[(0,u.jsx)("span",{className:"edc-d-inline-flex",children:(0,u.jsx)(t.ArrowBackwardIcon,{width:10,height:20})}),(0,u.jsx)("span",{children:(0,d.TB)({key:"back",defaultTranslatedValue:o.p.Search.back})})]})})}},843:(e,a,l)=>{l.r(a),l.d(a,{default:()=>f});var t=l(1649),n=l(2143),o=l(3442),d=l(2856),u=l(5490),c=l(5201),s=l(5523),r=l(7064),i=l(8170);const f=e=>{let{group:a,handleRemovePendingRequest:l}=e;const f=(0,o.s0)(),p=(0,c.p)(),[_,G]=(0,t.useState)(a),[S,v]=(0,t.useState)(!1),g=(0,t.useCallback)((()=>{f("".concat(d.default.PAGES.GROUP_DETAIL,"/").concat(null===_||void 0===_?void 0:_.id,"/").concat(null===_||void 0===_?void 0:_.slug))}),[null===_||void 0===_?void 0:_.id,null===_||void 0===_?void 0:_.slug,f]),m=(0,t.useCallback)((async()=>{const[e,a]=await(0,s.Ln)(null===_||void 0===_?void 0:_.id);a?p.open(a.data.message):G(e)}),[null===_||void 0===_?void 0:_.id,p]),R=(0,t.useCallback)((async()=>{const[e,a]=await(0,s.be)(null===_||void 0===_?void 0:_.id);a?p.open(a.data.message):G(e)}),[null===_||void 0===_?void 0:_.id,p]),M=(0,t.useCallback)((async()=>{const[e,a]=await(0,s.fc)(_.id);a?p.open(a.data.message):null!==e&&void 0!==e&&e.id&&null!==e&&void 0!==e&&e.slug?f("".concat(d.default.PAGES.GROUP_DETAIL,"/").concat(null===e||void 0===e?void 0:e.id,"/").concat(null===e||void 0===e?void 0:e.slug)):p.open(d.default.ERRORS.MESSAGE)}),[_.id,f,p]),O=()=>{v(!1)},x=(0,t.useCallback)((async()=>{const[e,a]=await(0,s.CN)(_.id);a?p.open(a.data.message):null!==e&&void 0!==e&&e.id?(l(e.id),v(!1)):p.open(d.default.ERRORS.MESSAGE)}),[_.id,l,p]),T=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"edc-decline-message",children:(0,r.a3)({key:"Modal_declineMessageGroupName",defaultTranslatedValue:u.p.Modal.decline_message_group_name})}),(0,i.jsx)("div",{className:"edc-decline-text",children:(0,r.a3)({key:"Modal_declineMessageText",defaultTranslatedValue:u.p.Modal.decline_message_text})})]});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.GroupCard,{groupMetaData:_,onShowGroup:g,onLeaveGroup:m,onJoinGroup:R,onAcceptGroupInvite:M,onDeclineGroupInvite:()=>{v(!0)},joinGroupText:(0,r.nO)({key:"joinGroup",defaultTranslatedValue:u.p.GroupCard.join_group_text}),leaveGroupText:(0,r.nO)({key:"leaveGroup",defaultTranslatedValue:u.p.GroupCard.leave_group_text}),DeclineGroupText:(0,r.nO)({key:"decline",defaultTranslatedValue:u.p.GroupCard.decline_group_text}),JoinedGroupText:(0,r.nO)({key:"joined",defaultTranslatedValue:u.p.GroupCard.joined_group_text}),awaitGroupText:(0,r.nO)({key:"awaitingApproval",defaultTranslatedValue:u.p.GroupCard.await_group_text}),groupIconText:(0,r.nO)({key:"group",defaultTranslatedValue:u.p.GroupCard.group_icon_text}),privateGroupText:(0,r.nO)({key:"private",defaultTranslatedValue:u.p.GroupCard.private_group_text}),memberGroupText:(0,r.nO)({key:"members",defaultTranslatedValue:u.p.GroupCard.member_group_text})}),(0,i.jsx)(n.Modal,{isModalOpen:S,modalHeaderData:{headerString:(0,r.a3)({key:"Modal_declineGroupInvitation",defaultTranslatedValue:u.p.Modal.decline_group_invitation}),closeModal:O},modalBodyData:T,modalFooterData:{cancelButtonText:(0,r.a3)({key:"cancel",defaultTranslatedValue:u.p.Modal.cancel}),submitButtonText:(0,r.a3)({key:"Modal_declineGroupInvitation",defaultTranslatedValue:u.p.Modal.decline_group_invitation}),closeModal:O,submitButtonCallback:()=>{x()}}})]})}},3838:(e,a,l)=>{l.d(a,{Z:()=>u});l(1649);var t=l(2143),n=l(5490),o=l(7064),d=l(8170);const u=e=>{let{onClick:a=(()=>{})}=e;return(0,d.jsx)("div",{className:"edc-view-more-btn-container",children:(0,d.jsx)(t.PrimaryButton,{fillColor:"#ffffff",onClick:a,text:(0,o.IQ)({key:"viewMore",defaultTranslatedValue:n.p.Notification.view_more}),variant:"outlined"})})}},8328:(e,a,l)=>{l.d(a,{IQ:()=>c,_u:()=>d,eu:()=>u});var t=l(744),n=l(2856),o=l(8079);const d=async(e,a,l,d,u)=>{const c=function(e,a,l,t,d){return t&&d?(0,o.DC)({searchText:d,limit:n.default.LIMIT,offset:l,fields:n.default.GROUPS_KEYS.join(),skipAggs:!1}):e===n.default.MY_GROUPS_ROLES.PENDING?"".concat(n.default.LXP_RESOURCES.GROUP,"?offset=").concat(l,"&limit=").concat(n.default.LIMIT,"&fields=").concat(n.default.GROUP_FIELDS,"&pending=",!0):"".concat(n.default.LXP_RESOURCES.GROUP,"?role=").concat(e,"&offset=").concat(l,"&limit=").concat(n.default.LIMIT,"&all=").concat(a,"&fields=").concat(n.default.GROUP_FIELDS)}(e,a,l,d,u);return await(0,t.x)({url:c,requestType:n.default.HTTP_METHOD.GET})},u=async e=>{let{channelId:a,offset:l,filter_by_language:o=!0}=e,d="".concat(n.default.LXP_RESOURCES.GROUP_DETAIL,"/").concat(a,"/channels.json?limit=").concat(n.default.LIMIT_10,"&offset=").concat(l);return d+="&filter_by_language=".concat(o),await(0,t.x)({url:d,requestType:n.default.HTTP_METHOD.GET})},c=async e=>{let{id:a,limit:l=n.default.LIMIT_10,offset:o=n.default.OFFSET,filter_by_language:d=!0}=e;let u="".concat(n.default.LXP_RESOURCES.STRUCTURE_ITEMS,"/").concat(a,"/structured_items.json?limit=").concat(l,"&offset=").concat(o,"&type=").concat(n.default.ASSIGNED_STATE.ASSIGNED,"&channel_fields=").concat(["id","slug","label","description","followers_count","allow_follow","is_following","banner_image_urls","profile_image_url","is_private","is_subscribed","subscribed_via_team","topics"].join(","));return u+="&filter_by_language=".concat(d),await(0,t.x)({url:u})}},9226:(e,a,l)=>{l.r(a),l.d(a,{default:()=>S});var t=l(1649),n=l(2143),o=l(3442),d=l(5729),u=l(9467),c=l(843),s=l(3838),r=l(2856),i=l(5490),f=l(8328),p=l(7064),_=l(8079),G=l(8170);const S=()=>{const{role:e}=(0,o.UO)(),[a]=(0,d.lr)(),l=a.get("q"),S=(0,o.s0)(),v=(0,t.useMemo)((()=>e||r.default.MY_GROUPS_ROLES.MY),[e]),[g,m]=(0,t.useState)([]),[R,M]=(0,t.useState)(0),[O,x]=(0,t.useState)(0),[T,E]=(0,t.useState)(!0),b=(0,t.useMemo)((()=>v===r.default.MY_GROUPS_ROLES.ALL?r.default.ALL_GROUPS:v===r.default.MY_GROUPS_ROLES.SEARCH?"":r.default.MY_GROUPS),[v]),P=(0,t.useCallback)((async function(e,a){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];E(!0),x(0);const t=l,n=a;0===n&&m([]);const[o,d]=await(0,f._u)(v,v===r.default.MY_GROUPS_ROLES.ALL,n,t,e);if(!d){const{teams:e,total:a}=o;m((a=>0===n?e:[...a,...e])),M(n+r.default.LIMIT),x(a)}E(!1)}),[v]),k=(0,t.useCallback)((e=>{if("object"===typeof e&&0===Object.keys(e).length)return;const a=e===r.default.ALL_GROUPS?r.default.MY_GROUPS_ROLES.ALL:r.default.MY_GROUPS_ROLES.MY;S("".concat(r.default.PAGES.MY_GROUPS,"/").concat(a))}),[S]),y=(0,t.useCallback)((e=>{m((a=>null===a||void 0===a?void 0:a.filter((a=>(null===a||void 0===a?void 0:a.id)!==e))))}),[]),h=(0,t.useCallback)((()=>{P(l,R)}),[P,R,l]);return(0,t.useEffect)((()=>{P(l||"",0,Boolean(l))}),[P,l]),(0,G.jsxs)("div",{className:"edc-my-groups-container",children:[(0,G.jsxs)("div",{className:"edc-my-groups-header",children:[(0,G.jsx)(u.Z,{}),(0,G.jsx)(n.Navbar,{selectedNavItem:b,isDrawerVisible:!1,childrenArray:[{label:"".concat((0,p.MA)({key:"myGroups",defaultTranslatedValue:i.p.Groups.my_groups})," ").concat(O>0&&b===r.default.MY_GROUPS&&"(".concat(O,")")||""),navIndex:r.default.MY_GROUPS},{label:"".concat((0,p.MA)({key:"Groups_allGroups",defaultTranslatedValue:i.p.Groups.all_groups}),"  ").concat(O>0&&b===r.default.ALL_GROUPS&&"(".concat(O,")")||""),navIndex:r.default.ALL_GROUPS}],handleSelectedNavItemChange:k}),(0,G.jsx)(n.Search,{defaultValue:l||"",onSearch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.trim()&&S("".concat(r.default.PAGES.MY_GROUPS,"/").concat(r.default.MY_GROUPS_ROLES.SEARCH,"?q=").concat(e))},placeholder:(0,p.MA)({key:"searchHerePlaceholder",defaultTranslatedValue:i.p.Groups.search_here}),allowEmptySearch:!0})]}),(0,G.jsxs)("div",{className:"edc-group-cards-filter-container",children:[b===r.default.MY_GROUPS&&(0,G.jsx)("div",{className:"edc-group-filter",children:(0,G.jsx)(n.SideFilterCard,{filterOptions:[{filterText:(0,p.MA)({key:"myGroups",defaultTranslatedValue:i.p.Groups.my_groups}),callback:()=>S("".concat(r.default.PAGES.MY_GROUPS,"/").concat(r.default.MY_GROUPS_ROLES.MY)),subFilters:[{text:(0,p.MA)({key:"Groups_adminFilterLabel",defaultTranslatedValue:i.p.Groups.admin_filter_label}),callback:()=>S("".concat(r.default.PAGES.MY_GROUPS,"/").concat(r.default.MY_GROUPS_ROLES.ADMIN))},{text:(0,p.MA)({key:"Groups_leaderFilterLabel",defaultTranslatedValue:i.p.Groups.leader_filter_label}),callback:()=>S("".concat(r.default.PAGES.MY_GROUPS,"/").concat(r.default.MY_GROUPS_ROLES.LEADER))},{text:(0,p.MA)({key:"Groups_memberFilterLabel",defaultTranslatedValue:i.p.Groups.member_filter_label}),callback:()=>S("".concat(r.default.PAGES.MY_GROUPS,"/").concat(r.default.MY_GROUPS_ROLES.MEMBER))}]},{filterText:(0,p.MA)({key:"Groups_myPendingRequests",defaultTranslatedValue:i.p.Groups.my_pending_requests}),callback:()=>S("".concat(r.default.PAGES.MY_GROUPS,"/").concat(r.default.MY_GROUPS_ROLES.PENDING))}]})}),(0,G.jsxs)("div",{className:"edc-my-group-cards edc-view-all-group-container",children:[!(0,_.xb)(g)&&(null===g||void 0===g?void 0:g.map(((e,a)=>{var l;return(0,G.jsx)(c.default,{group:e,handleRemovePendingRequest:y},null!==(l=null===e||void 0===e?void 0:e.id)&&void 0!==l?l:a)}))),(0,_.xb)(g)&&!T?(0,G.jsx)("div",{className:"edc-spinner-container edc-text-center",children:(0,G.jsx)("b",{className:"edc-no-result-found",children:b&&(0,p.MA)({key:"noResultFound",defaultTranslatedValue:i.p.Groups.no_result_found})||"".concat((0,p.MA)({key:"Groups_noGroupsFound",defaultTranslatedValue:i.p.Groups.no_groups_found}),' "').concat(l,'"')})}):null,T?(0,G.jsx)("div",{className:"edc-spinner-container",children:(0,G.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,p.MA)({key:"waitingGroupLabel",defaultTranslatedValue:i.p.Groups.waiting_group_label})})}):null]})]}),!T&&(null===g||void 0===g?void 0:g.length)<O?(0,G.jsx)(s.Z,{onClick:h}):null]})}}}]);