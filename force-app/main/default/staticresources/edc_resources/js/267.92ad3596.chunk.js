"use strict";(self.webpackChunkedc_widgets_sfdc=self.webpackChunkedc_widgets_sfdc||[]).push([[267],{6534:(e,l,a)=>{a.r(l),a.d(l,{default:()=>C});var n=a(1649),o=a(2143),s=a(3442),t=a(2856),d=a(5490),r=a(8984),u=a(5201),i=a(4019),f=a(7064),c=a(8170);const C=e=>{const{userInfo:l,orgInfo:a}=(0,n.useContext)(r.Il),[C,w]=(0,n.useState)(e.channel||{}),[h,v]=(0,n.useState)(!1),T=(0,s.s0)(),_=(0,u.p)();(0,n.useEffect)((()=>{var l,n;const o=null===a||void 0===a||null===(l=a.configs)||void 0===l||null===(n=l.find((e=>e.name===t.default.ADMIN_CONFIG.PRIVATE_CHANNEL_SHOW_LOCK_ICON)))||void 0===n?void 0:n.value,s={...e.channel};s.isPrivate=!!o&&s.isPrivate,w(s)}),[a,e.channel]);const g=async()=>{v(!0);const{domain:e,jwtToken:a}=l,[n,o]=await(0,i.$x)({channel:C,jwtToken:a,domain:e});if(n){const e=C.isFollowing;C.isFollowing=!e,C.followersCount=null!==C&&void 0!==C&&C.isFollowing?((null===C||void 0===C?void 0:C.followersCount)||0)+1:((null===C||void 0===C?void 0:C.followersCount)||0)-1,w(C),v(!1)}var s;o&&(_.open((null===o||void 0===o||null===(s=o.data)||void 0===s?void 0:s.message)||t.default.ERRORS.MESSAGE),v(!1))},p=(0,n.useCallback)((()=>{T("".concat(t.default.PAGES.CHANNEL_DETAIL,"/").concat(C.id))}),[C.id,T]);return(0,c.jsx)(o.ChannelCard,{onFollow:g,onUnfollow:g,onShowChannel:p,isAPIProcessing:h,channelMetaData:C,channelIconText:(0,f.eO)({key:"Cards_channel",defaultTranslatedValue:d.p.Cards.channel}),moreText:(0,f.eO)({key:"more",defaultTranslatedValue:d.p.Cards.more}),followersText:(0,f.eO)({key:"followers",defaultTranslatedValue:d.p.Cards.followers}),followingText:(0,f.eO)({key:"following",defaultTranslatedValue:d.p.Cards.following}),privateText:(0,f.eO)({key:"private",defaultTranslatedValue:d.p.Cards.private}),followChannelText:(0,f.eO)({key:"Cards_followChannel",defaultTranslatedValue:d.p.Cards.follow_channel}),unfollowChannelText:(0,f.eO)({key:"Cards_unfollowChannel",defaultTranslatedValue:d.p.Cards.unfollow_channel}),disabledChannelText:(0,f.mr)({key:"ManagerDashboard_comingSoon",defaultTranslatedValue:d.p.ManagerDashboard.coming_soon})})}}}]);