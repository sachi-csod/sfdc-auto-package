"use strict";(self.webpackChunkedc_widgets_sfdc=self.webpackChunkedc_widgets_sfdc||[]).push([[700,267],{9467:(e,a,l)=>{l.d(a,{Z:()=>r});l(1649);var t=l(2143),n=l(3442),o=l(5490),d=l(7064),s=l(8170);const r=e=>{let{goBack:a}=e;const l=(0,n.s0)();return(0,s.jsx)("div",{className:"edc-position-relative edc-back-button",children:(0,s.jsxs)("div",{onClick:()=>{"function"!==typeof a?l(-1):a()},className:"edc-d-flex edc-pointer edc-align-items-center edc-gap-one-fourth edc-back-button-icon-and-text",children:[(0,s.jsx)("span",{className:"edc-d-inline-flex",children:(0,s.jsx)(t.ArrowBackwardIcon,{width:10,height:20})}),(0,s.jsx)("span",{children:(0,d.TB)({key:"back",defaultTranslatedValue:o.p.Search.back})})]})})}},4866:(e,a,l)=>{l.d(a,{Z:()=>c});var t=l(1649),n=l(2143),o=l(24),d=l(5490),s=l(7064),r=l(3838),i=l(8170);const u=e=>{var a,l,u;let{isLoading:c,cards:v,setCards:f,total:p,offset:m,showCount:b=!0,onCardClick:T=null,isLarge:_=!1,showViewMore:h=!1,viewMoreCallback:g=(()=>{})}=e;const S=(0,t.useCallback)((e=>{const a=null!==e&&void 0!==e&&e.assignable?null===e||void 0===e?void 0:e.assignable:e;return e?(0,i.jsx)("div",{className:"user-content__grid-item",children:(0,i.jsx)(o.default,{handleCardClick:T&&"function"==typeof T?()=>T(a.id):null,cardData:a,isLarge:_,setCards:f})},null===e||void 0===e?void 0:e.id):null}),[_,T,f]),C=(0,t.useMemo)((()=>(null===v||void 0===v?void 0:v.length)&&!c&&p&&b),[null===v||void 0===v?void 0:v.length,c,b,p]),x=(0,t.useMemo)((()=>!c&&(null===v||void 0===v?void 0:v.length)&&(null===v||void 0===v?void 0:v.length)<p&&h),[null===v||void 0===v?void 0:v.length,c,h,p]),A=(0,t.useMemo)((()=>!c&&Array.isArray(v)&&!(null!==v&&void 0!==v&&v.length)),[v,c]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"user-content__grid",children:[c&&!m?null===(a=Array(4).fill((()=>(0,i.jsx)(n.SmartCardSkeleton,{}))))||void 0===a?void 0:a.map(((e,a)=>(0,i.jsx)(n.SmartCardSkeleton,{},a))):Array.isArray(v)?null===v||void 0===v?void 0:v.map((e=>S(e))):null,c&&m?null===(l=Array(4).fill((()=>(0,i.jsx)(n.SmartCardSkeleton,{}))))||void 0===l?void 0:l.map(((e,a)=>(0,i.jsx)(n.SmartCardSkeleton,{},a))):null]}),A?(0,i.jsx)(n.Typography,{variant:"h6",className:"edc-text-center",children:(0,s.eO)({key:"Cards_noAvailableCards",defaultTranslatedValue:d.p.Cards.no_available_cards})}):null,C?(0,i.jsx)(n.Typography,{variant:"h6",className:"edc-text-center edc-mt-8",children:(0,s.eO)({key:"Cards_showingOutOfTotalText",defaultTranslatedValue:null===(u=d.p.Cards.showing_out_of_total_text)||void 0===u?void 0:u.replace("{{length}}",(null===v||void 0===v?void 0:v.length)||0).replace("{{total}}",p),variables:{length:null===v||void 0===v?void 0:v.length,total:p}})}):null,x?(0,i.jsx)(r.Z,{onClick:g}):null]})},c=t.memo(u)},6534:(e,a,l)=>{l.r(a),l.d(a,{default:()=>f});var t=l(1649),n=l(2143),o=l(3442),d=l(2856),s=l(5490),r=l(8984),i=l(5201),u=l(4019),c=l(7064),v=l(8170);const f=e=>{const{userInfo:a,orgInfo:l}=(0,t.useContext)(r.Il),[f,p]=(0,t.useState)(e.channel||{}),[m,b]=(0,t.useState)(!1),T=(0,o.s0)(),_=(0,i.p)();(0,t.useEffect)((()=>{var a,t;const n=null===l||void 0===l||null===(a=l.configs)||void 0===a||null===(t=a.find((e=>e.name===d.default.ADMIN_CONFIG.PRIVATE_CHANNEL_SHOW_LOCK_ICON)))||void 0===t?void 0:t.value,o={...e.channel};o.isPrivate=!!n&&o.isPrivate,p(o)}),[l,e.channel]);const h=async()=>{b(!0);const{domain:e,jwtToken:l}=a,[t,n]=await(0,u.$x)({channel:f,jwtToken:l,domain:e});if(t){const e=f.isFollowing;f.isFollowing=!e,f.followersCount=null!==f&&void 0!==f&&f.isFollowing?((null===f||void 0===f?void 0:f.followersCount)||0)+1:((null===f||void 0===f?void 0:f.followersCount)||0)-1,p(f),b(!1)}var o;n&&(_.open((null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||d.default.ERRORS.MESSAGE),b(!1))},g=(0,t.useCallback)((()=>{T("".concat(d.default.PAGES.CHANNEL_DETAIL,"/").concat(f.id))}),[f.id,T]);return(0,v.jsx)(n.ChannelCard,{onFollow:h,onUnfollow:h,onShowChannel:g,isAPIProcessing:m,channelMetaData:f,channelIconText:(0,c.eO)({key:"Cards_channel",defaultTranslatedValue:s.p.Cards.channel}),moreText:(0,c.eO)({key:"more",defaultTranslatedValue:s.p.Cards.more}),followersText:(0,c.eO)({key:"followers",defaultTranslatedValue:s.p.Cards.followers}),followingText:(0,c.eO)({key:"following",defaultTranslatedValue:s.p.Cards.following}),privateText:(0,c.eO)({key:"private",defaultTranslatedValue:s.p.Cards.private}),followChannelText:(0,c.eO)({key:"Cards_followChannel",defaultTranslatedValue:s.p.Cards.follow_channel}),unfollowChannelText:(0,c.eO)({key:"Cards_unfollowChannel",defaultTranslatedValue:s.p.Cards.unfollow_channel}),disabledChannelText:(0,c.mr)({key:"ManagerDashboard_comingSoon",defaultTranslatedValue:s.p.ManagerDashboard.coming_soon})})}},3838:(e,a,l)=>{l.d(a,{Z:()=>s});l(1649);var t=l(2143),n=l(5490),o=l(7064),d=l(8170);const s=e=>{let{onClick:a=(()=>{})}=e;return(0,d.jsx)("div",{className:"edc-view-more-btn-container",children:(0,d.jsx)(t.PrimaryButton,{fillColor:"#ffffff",onClick:a,text:(0,o.IQ)({key:"viewMore",defaultTranslatedValue:n.p.Notification.view_more}),variant:"outlined"})})}},8328:(e,a,l)=>{l.d(a,{IQ:()=>r,_u:()=>d,eu:()=>s});var t=l(744),n=l(2856),o=l(8079);const d=async(e,a,l,d,s)=>{const r=function(e,a,l,t,d){return t&&d?(0,o.DC)({searchText:d,limit:n.default.LIMIT,offset:l,fields:n.default.GROUPS_KEYS.join(),skipAggs:!1}):e===n.default.MY_GROUPS_ROLES.PENDING?"".concat(n.default.LXP_RESOURCES.GROUP,"?offset=").concat(l,"&limit=").concat(n.default.LIMIT,"&fields=").concat(n.default.GROUP_FIELDS,"&pending=",!0):"".concat(n.default.LXP_RESOURCES.GROUP,"?role=").concat(e,"&offset=").concat(l,"&limit=").concat(n.default.LIMIT,"&all=").concat(a,"&fields=").concat(n.default.GROUP_FIELDS)}(e,a,l,d,s);return await(0,t.x)({url:r,requestType:n.default.HTTP_METHOD.GET})},s=async e=>{let{channelId:a,offset:l,filter_by_language:o=!0}=e,d="".concat(n.default.LXP_RESOURCES.GROUP_DETAIL,"/").concat(a,"/channels.json?limit=").concat(n.default.LIMIT_10,"&offset=").concat(l);return d+="&filter_by_language=".concat(o),await(0,t.x)({url:d,requestType:n.default.HTTP_METHOD.GET})},r=async e=>{let{id:a,limit:l=n.default.LIMIT_10,offset:o=n.default.OFFSET,filter_by_language:d=!0}=e;let s="".concat(n.default.LXP_RESOURCES.STRUCTURE_ITEMS,"/").concat(a,"/structured_items.json?limit=").concat(l,"&offset=").concat(o,"&type=").concat(n.default.ASSIGNED_STATE.ASSIGNED,"&channel_fields=").concat(["id","slug","label","description","followers_count","allow_follow","is_following","banner_image_urls","profile_image_url","is_private","is_subscribed","subscribed_via_team","topics"].join(","));return s+="&filter_by_language=".concat(d),await(0,t.x)({url:s})}},1700:(e,a,l)=>{l.r(a),l.d(a,{default:()=>P});var t=l(1649),n=l(2143),o=l(3442),d=l(5490),s=l(7064),r=l(8170);const i=e=>{let{isPrivate:a,channelDescription:l}=e;return(0,r.jsx)("div",{className:"edc-about-group-container",children:(0,r.jsx)(n.DetailAboutView,{aboutText:(0,s.MA)({key:"about",defaultTranslatedValue:d.p.Groups.about}),aboutDetails:{description:l,isShowCurators:!1},publicOrPrivateDescription:a?(0,s.MA)({key:"Groups_privateGroupInfo",defaultTranslatedValue:d.p.Groups.privateGroupInfo}):(0,s.MA)({key:"Groups_publicGroupInfo",defaultTranslatedValue:d.p.Groups.publicGroupInfo}),noInfoLabel:(0,s.MA)({key:"Groups_noContentDescriptionFound",defaultTranslatedValue:d.p.Groups.no_content_description_found}),isPrivate:a,channelOrGroupText:a?(0,s.MA)({key:"Groups_privateGroupText",defaultTranslatedValue:d.p.Groups.privateGroupText}):(0,s.MA)({key:"Groups_publicGroupText",defaultTranslatedValue:d.p.Groups.publicGroupText}),aboutDescriptionText:(0,s.MA)({key:"description",defaultTranslatedValue:d.p.Groups.description}),curatorsText:(0,s.MA)({key:"curators",defaultTranslatedValue:d.p.Groups.curators}),viewAllText:(0,s.MA)({key:"viewAll",defaultTranslatedValue:d.p.Groups.view_all}),collaboratorsText:(0,s.MA)({key:"collaborators",defaultTranslatedValue:d.p.Groups.collaborators}),providerText:(0,s.MA)({key:"provider",defaultTranslatedValue:d.p.Groups.provider}),trustedCollaboratorsText:(0,s.MA)({key:"trustedCollaborators",defaultTranslatedValue:d.p.Groups.trusted_collaborators})})})};var u=l(6534),c=l(3838),v=l(2856),f=l(8328),p=l(8079);const m=e=>{let{channelId:a}=e;const[l,o]=(0,t.useState)(v.default.OFFSET),[i,m]=(0,t.useState)(!0),[b,T]=(0,t.useState)(),[_,h]=(0,t.useState)(!1),[g,S]=(0,t.useState)(!0),C=(0,t.useCallback)((async e=>{let{offset:l=v.default.OFFSET}=e;const[t,n]=await(0,f.eu)({channelId:a,offset:l});var o;n||t&&(T(0===l?null===t||void 0===t?void 0:t.channels:e=>{var a;return[...e,...null!==(a=null===t||void 0===t?void 0:t.channels)&&void 0!==a?a:[]]}),(null===t||void 0===t||null===(o=t.channels)||void 0===o?void 0:o.length)<v.default.LIMIT_10&&S(!1),m(!1),h(!1))}),[a]),x=(0,t.useCallback)((e=>{let{offset:a}=e;g&&(h(!0),C({offset:a+v.default.LIMIT_10}),o(a+v.default.LIMIT_10))}),[C,g]);return(0,t.useEffect)((()=>{C({})}),[C]),(0,r.jsx)("div",{className:"edc-channel-custom-tab edc-group-all-channel",children:!i&&(0,p.xb)(b)?(0,r.jsx)(n.NoContentIcon,{iconWidth:38.55,iconHeight:49,circleRadius:140,label:(0,s.MA)({key:"Groups_noContentFound",defaultTranslatedValue:d.p.Groups.no_content_found})}):(0,r.jsxs)("div",{className:"edc-group-associated-channels-container",children:[i?(0,r.jsx)("div",{className:"edc-spinner-container edc-pt-4 edc-group-detail-spinner",children:(0,r.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,s.eO)({key:"waitingCardsLoaderLabel",defaultTranslatedValue:d.p.Cards.waiting_cards_loader_label})})}):(0,r.jsx)(r.Fragment,{children:(0,p.xb)(b)?null:(0,r.jsxs)(r.Fragment,{children:[null===b||void 0===b?void 0:b.map(((e,a)=>{var l;return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)(n.SmartCardSkeleton,{}),children:(0,r.jsx)("div",{className:"edc-mini-card-view",children:(0,r.jsx)(u.default,{channel:e},null!==(l=null===e||void 0===e?void 0:e.id)&&void 0!==l?l:a)})},a)})),_?(0,r.jsx)("div",{className:"edc-associate-group-channel",children:(0,r.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,s.eO)({key:"loadingMoreData",defaultTranslatedValue:d.p.Cards.loading_more_data})})}):null]})}),!i&&g?(0,r.jsx)(c.Z,{onClick:()=>x({offset:l})}):null]})})};var b=l(24),T=l(5201);const _=e=>{let{customId:a,currentTab:l}=e;const[o,i]=(0,t.useState)(v.default.OFFSET),[m,_]=(0,t.useState)(!0),[h,g]=(0,t.useState)(),[S,C]=(0,t.useState)(!1),[x,A]=(0,t.useState)(!0),k=(0,T.p)(),y=(0,t.useCallback)((async e=>{let{offset:l=v.default.OFFSET}=e;const[t,n]=await(0,f.IQ)({id:a,offset:l});var o,d,s;n?k.open(null!==(o=null===n||void 0===n||null===(d=n.data)||void 0===d?void 0:d.message)&&void 0!==o?o:v.default.ERRORS.MESSAGE):t&&(l===v.default.OFFSET?g(null===t||void 0===t?void 0:t.structuredItems):g((e=>{var a;return[...e,...null!==(a=null===t||void 0===t?void 0:t.structuredItems)&&void 0!==a?a:[]]})),(null===t||void 0===t||null===(s=t.structuredItems)||void 0===s?void 0:s.length)<v.default.LIMIT_10&&A(!1),_(!1),C(!1))}),[a,k]),E=(0,t.useCallback)((e=>{let{offset:a}=e;x&&(C(!0),y({offset:a+v.default.LIMIT_10}),i(a+v.default.LIMIT_10))}),[y,x]);return(0,t.useEffect)((()=>(y({}),()=>{_(!0),A(!0),g([])})),[y]),(0,r.jsx)("div",{className:"edc-channel-custom-tab",children:!m&&(0,p.xb)(h)?(0,r.jsx)(n.NoContentIcon,{iconWidth:38.55,iconHeight:49,circleRadius:140,label:(0,s.HQ)({key:"Channels_noCustomTabContent",defaultTranslatedValue:d.p.Channels.no_custom_tab_content})}):(0,r.jsxs)("div",{className:"edc-group-custom-carousel-container",children:[(0,p.xb)(h)?null:null===h||void 0===h?void 0:h.map((e=>(null===l||void 0===l?void 0:l.type)===v.default.GROUPS_TAB.CHANNELS?(0,r.jsx)("div",{className:"edc-mx-1",children:(0,r.jsx)(u.default,{channel:null===e||void 0===e?void 0:e.entity},null===e||void 0===e?void 0:e.entity.id)},null===e||void 0===e?void 0:e.entity.id):(0,r.jsx)(b.default,{cardData:null===e||void 0===e?void 0:e.entity},null===e||void 0===e?void 0:e.entity.id))),S?(0,r.jsx)("div",{className:"edc-associate-group-channel",children:(0,r.jsx)(n.Spinner,{variant:"lg",spinnerMessage:"".concat((0,s.HQ)({key:"loadingMoreData",defaultTranslatedValue:d.p.Channels.loading_more_data}),"...")})}):null,m?(0,r.jsx)("div",{className:"edc-spinner-container",children:(0,r.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,s.HQ)({key:"Channels_findingCards",defaultTranslatedValue:d.p.Channels.finding_cards})})}):null,!m&&x?(0,r.jsx)(c.Z,{onClick:()=>E({offset:o})}):null]})})};var h=l(4019);const g=()=>{const{id:e}=(0,o.UO)(),[a,l]=(0,t.useState)(!0),[i,u]=(0,t.useState)(),c=(0,T.p)(),f=(0,t.useCallback)((async()=>{const[a,t]=await(0,h.F2)({id:e});var n,o;t?c.open(null!==(n=null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)&&void 0!==n?n:v.default.ERRORS.MESSAGE):a&&(u(null===a||void 0===a?void 0:a.pins),l(!1))}),[e,c]);return(0,t.useEffect)((()=>{f()}),[f]),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"edc-group-featured-tab",children:!a&&(0,p.xb)(i)?(0,r.jsx)("div",{className:"edc-channel-about-no-content",children:(0,r.jsx)(n.NoContentIcon,{iconWidth:38.55,iconHeight:49,circleRadius:140,label:(0,s.MA)({key:"Groups_noContentFeaturedTab",defaultTranslatedValue:d.p.Groups.no_content_featured_tab})})}):(0,r.jsx)("div",{className:"edc-view-all-cards",children:a?(0,r.jsx)("div",{className:"edc-spinner-container edc-pt-4",children:(0,r.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,s.eO)({key:"waitingCardsLoaderLabel",defaultTranslatedValue:d.p.Cards.waiting_cards_loader_label})})}):(0,p.xb)(i)?null:(0,r.jsx)("div",{className:"edc-group-feature-container edc-full-width ",children:null===i||void 0===i?void 0:i.map(((e,a)=>{var l;return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)(n.SmartCardSkeleton,{}),children:(0,r.jsx)(b.default,{cardData:e},null!==(l=null===e||void 0===e?void 0:e.id)&&void 0!==l?l:a)},a)}))})})})})};var S=l(4866),C=l(8984),x=l(7546),A=l(5523);class k extends t.Component{constructor(e){super(e),this.state={hasError:!1},this.id=Math.floor(1e3+9e3*Math.random())}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,a){console.error(this.id,e,a.componentStack,{props:this.props})}render(){return this.state.hasError?(0,r.jsxs)("span",{children:["Oops ! Something went wrong. ",this.id]}):this.props.children}}const y=e=>a=>(0,r.jsx)(k,{children:(0,r.jsx)(e,{...a})}),E=y((e=>{let{groupId:a}=e;const{userInfo:l}=(0,t.useContext)(C.Il),i=(0,o.s0)(),{data:u,isLoading:c}=(0,x.Z)((()=>(0,A.W3)(a))),f=(0,t.useMemo)((()=>{var e;const a=(e,a)=>({position:a,userDetails:{id:e.user.id,avatar:e.user.picture,avatarClass:"",fullName:e.user.name,jobTitle:e.user.jobTitle,handle:e.user.handle},points:e.smartbitesScore,isfollowing:e.user.following,disableUserFollow:!0,isCurrentUser:l.id==e.user.id,isMember:e.user.roles.includes(v.default.USER_ROLES.MEMBER),isAdmin:e.user.roles.includes(v.default.USER_ROLES.ADMIN),isSME:e.user.roles.includes(v.default.USER_ROLES.SME)}),t=null===u||void 0===u||null===(e=u.users)||void 0===e?void 0:e.map(((e,l)=>a(e,l+1))).slice(0,5);if(t){var n,o;const e=t.findIndex((e=>{var a;return(null===e||void 0===e||null===(a=e.userDetails)||void 0===a?void 0:a.id)==l.id}));return e<4&&e>-1?t:[...t,a(null===u||void 0===u?void 0:u.currentUser,null===u||void 0===u||null===(n=u.currentUser)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.orderByScore)]}}),[null===u||void 0===u?void 0:u.currentUser,null===u||void 0===u?void 0:u.users,l.id]),p=(0,t.useCallback)((e=>{i("".concat(v.default.PAGES.USER_PROFILE,"/").concat(e.id===l.id?"me":e.id))}),[i,l.id]),m=(0,t.useCallback)((()=>{i("".concat(v.default.PAGES.LEADERBOARD))}),[i]);return(0,r.jsx)("div",{className:"edc-paper box-shadow edc-mt-1",children:c?(0,r.jsx)(n.Spinner,{variant:"lg"}):u&&null!==u&&void 0!==u&&u.users.length?(0,r.jsx)(n.MiniLeaderboardCard,{title:(0,s.Jb)({key:"LeaderBoard_leaderboardTitle",defaultTranslatedValue:d.p.LeaderBoard.leaderboard_title}),dateRange:"",openLeaderboardCallback:m,totalCount:null===u||void 0===u?void 0:u.totalCount,leaderboardData:f,avatarSize:"medium",isShowUserBadge:!1,fromMiniLeaderBoard:!0,linkText:(0,s.Jb)({key:"LeaderBoard_openLeaderboardText",defaultTranslatedValue:d.p.LeaderBoard.open_leaderboard_text}),onUserRowClick:p,currentUserLabelText:(0,s.Jb)({key:"you",defaultTranslatedValue:d.p.LeaderBoard.current_user_label_text}),pointPluralLabel:(0,s.Jb)({key:"points",defaultTranslatedValue:d.p.LeaderBoard.point_plural_label}),pointSingularlLabel:(0,s.Jb)({key:"LeaderBoard_pointSingularLabel",defaultTranslatedValue:d.p.LeaderBoard.point_singular_label}),followPluralLabel:(0,s.Jb)({key:"followers",defaultTranslatedValue:d.p.LeaderBoard.follow_plural_label}),followSingularlLabel:(0,s.Jb)({key:"follower",defaultTranslatedValue:d.p.LeaderBoard.follow_singular_label}),followLabelText:(0,s.Jb)({key:"follow",defaultTranslatedValue:d.p.LeaderBoard.follow_label_text}),unFollowLabelText:(0,s.Jb)({key:"unFollow",defaultTranslatedValue:d.p.LeaderBoard.unfollow_label_text}),followingLabelText:(0,s.Jb)({key:"following",defaultTranslatedValue:d.p.LeaderBoard.following_label_text})}):null})}));var M=l(5338),I=l(8879);const w=e=>{let{isMember:a}=e;const{id:l,slug:i}=(0,o.UO)(),u=(0,o.s0)(),{userInfo:c,orgInfo:f}=(0,t.useContext)(C.Il),[p,m]=(0,t.useState)([]),[b,_]=(0,t.useState)(0),[g,A]=(0,t.useState)(0),[k,y]=(0,t.useState)(!1),w=(0,T.p)(),{configs:L=[]}=f,[G]=L.filter((e=>e.name===v.default.LEADERBOARD_CONFIG_KEY)),j=G&&G.value,{data:R,isLoading:O}=(0,x.Z)((()=>(0,h.F2)({id:l}))),V=(0,t.useMemo)((()=>{var e;return(null===R||void 0===R||null===(e=R.pins.slice(0,5))||void 0===e?void 0:e.map((e=>{var a;return{coverImage:null!==e&&void 0!==e&&null!==(a=e.filestack[0])&&void 0!==a&&a.thumbnail?(0,I.f)(null===e||void 0===e?void 0:e.filestack[0].thumbnail,"height:200",null===e||void 0===e?void 0:e.filestack[0].mimetype,null===e||void 0===e?void 0:e.filestack[0].handle,c.filestackApp,c.jwtToken,!0):(0,M.El)({cardData:e,userInfo:c,orgInfo:f}),id:e.id,readableCardType:e.readableCardType,skillLevel:e.skillLevel,title:e.cardTitle,type:e.cardType}})))||[]}),[null===R||void 0===R?void 0:R.pins,f,c]),N=(0,t.useCallback)((async e=>{let{offset:a}=e;y(!0);const[t,n]=await(0,h.of)({id:l,offset:a});if(!n&&t){const e=(null===t||void 0===t?void 0:t.total)||(null===t||void 0===t?void 0:t.assignmentCount)||0,l=(null===t||void 0===t?void 0:t.cards)||(null===t||void 0===t?void 0:t.assignments)||[];m((e=>a>0?l.length?[...e,...l]:e:l)),A(e)}else{var o;w.open((null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||v.default.ERRORS.MESSAGE)}y(!1)}),[l,w]);(0,t.useEffect)((()=>(N({offset:0}),()=>{_(0)})),[N]);const U=(0,t.useCallback)((()=>{const e=b+v.default.CARD_LIMIT;N({offset:e}),_(e)}),[N,b]),P=(0,t.useCallback)((()=>{u("".concat(v.default.PAGES.GROUP_DETAIL,"/").concat(l,"/").concat(i,"/featured"))}),[l,u,i]),D=(0,t.useCallback)((e=>{let a,{cardId:l,isFeatured:t}=e;var n,o;t?a=null===V||void 0===V||null===(n=V.find((e=>e.id===l)))||void 0===n?void 0:n.type:a=null===p||void 0===p||null===(o=p.find((e=>e.id===l)))||void 0===o?void 0:o.cardType;a&&l&&[v.default.CARD_SUBTYPE.JOURNEY,v.default.CARD_SUBTYPE.PATHWAY].includes(a)?u("".concat(v.default.PAGES.CARD_DETAILS,"/").concat(a,"/").concat(l)):l&&u("".concat(v.default.PAGES.CARD_DETAILS,"/").concat(l))}),[p,V,u]);return(0,r.jsxs)("div",{className:"edc-d-flex edc-d-flex-wrap edc-gap-one edc-group-home-container",children:[(0,r.jsxs)("div",{className:"edc-group-featured",children:[(0,r.jsx)("div",{className:"edc-paper box-shadow ",children:O?(0,r.jsx)(n.Spinner,{variant:"lg"}):(0,r.jsx)(n.MiniFeaturedContentCard,{cardClickCallback:e=>D({cardId:e,isFeatured:!0}),featuredCardData:V,icon:(0,r.jsx)(n.StarIcon,{height:"22",width:"22"}),title:(0,s.MA)({key:"Groups_featuredContent",defaultTranslatedValue:d.p.Groups.featured_content}),viewAllCallback:P,noFeaturedContentText:(0,s.MA)({key:"Groups_noFeaturedContent",defaultTranslatedValue:d.p.Groups.no_featured_content}),viewAllText:(0,s.MA)({key:"viewAll",defaultTranslatedValue:d.p.Groups.view_all})})}),j&&a?(0,r.jsx)(E,{groupId:l}):null]}),(0,r.jsx)("div",{className:"edc-group-cards",children:(0,r.jsx)(S.Z,{isLoading:k,cards:p,total:g,offset:b,isLarge:!0,onCardClick:e=>D({cardId:e,isFeatured:!1}),viewMoreCallback:U,showViewMore:!0})})]})},L=e=>{let{groupId:a}=e;const[l,o]=(0,t.useState)(v.default.OFFSET),[i,u]=(0,t.useState)(),[f,m]=(0,t.useState)(!0),[_,g]=(0,t.useState)(),[S,C]=(0,t.useState)(!1),[x,A]=(0,t.useState)(!0),k=(0,T.p)(),y=(0,t.useCallback)((async e=>{let{offset:l=v.default.OFFSET}=e;C(!0);const[t,n]=await(0,h.Vr)({id:a,offset:l});var o,d,s;n?k.open(null!==(o=null===n||void 0===n||null===(d=n.data)||void 0===d?void 0:d.message)&&void 0!==o?o:v.default.ERRORS.MESSAGE):t&&(l===v.default.OFFSET?(g(null===t||void 0===t?void 0:t.cards),u(null===t||void 0===t?void 0:t.total)):g((e=>{var a;return[...e,...null!==(a=null===t||void 0===t?void 0:t.cards)&&void 0!==a?a:[]]})),(null===t||void 0===t||null===(s=t.cards)||void 0===s?void 0:s.length)<v.default.CARD_LIMIT&&A(!1),m(!1),C(!1))}),[a,k]),E=(0,t.useCallback)((e=>{let{offset:a}=e;const l=a+v.default.LIMIT_10;y({offset:l}),o(l)}),[y]);return(0,t.useEffect)((()=>{y({offset:v.default.OFFSET})}),[y]),(0,r.jsxs)("div",{className:"edc-channel-custom-tab",children:[i>0?(0,r.jsxs)("div",{className:"edc-group-detail-sub-title edc-mb-1",children:[i," ",(0,s.HQ)({key:"Channels_items",defaultTranslatedValue:d.p.Channels.items})]}):null,!f&&(0,p.xb)(_)?(0,r.jsx)(n.NoContentIcon,{iconWidth:38.55,iconHeight:49,circleRadius:140,label:(0,s.HQ)({key:"Channels_noAssignmentContentFound",defaultTranslatedValue:d.p.Channels.no_assignment_content_found})}):(0,r.jsxs)("div",{className:"edc-group-feature-container",children:[(0,p.xb)(_)?null:null===_||void 0===_?void 0:_.map((e=>(0,r.jsx)(b.default,{cardData:e},e.id))),S?(0,r.jsx)("div",{className:"edc-associate-group-channel",children:(0,r.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,s.HQ)({key:"loadingMoreData",defaultTranslatedValue:d.p.Channels.loading_more_data})})}):f?(0,r.jsx)("div",{className:"edc-spinner-container",children:(0,r.jsx)(n.Spinner,{variant:"lg",spinnerMessage:(0,s.HQ)({key:"Channels_findingCards",defaultTranslatedValue:d.p.Channels.finding_cards})})}):null,!f&&x?(0,r.jsx)(c.Z,{onClick:()=>E({offset:l})}):null]})]})};var G=l(9467);const j=e=>{let{title:a="",content:l="",deleteText:t="",open:o,handleClose:d=(()=>{}),onConfirm:s=(()=>{}),cancelLabel:i="Cancel"}=e;return(0,r.jsx)(n.Modal,{isModalOpen:o,modalHeaderData:{headerString:a,closeModal:d},modalBodyData:l,modalFooterData:{cancelButtonText:i,submitButtonText:t,closeModal:d,submitButtonCallback:s}})},R=e=>{var a;let{headerString:l="",isModalOpen:i,closeModal:u,placeholderText:c,usersInfo:f,userType:m,groupId:b}=e;const _=(0,o.s0)(),[g,S]=(0,t.useState)(0),C=(0,T.p)(),[x,A]=(0,t.useState)(null!==(a=null===f||void 0===f?void 0:f.users)&&void 0!==a?a:[]),[k,y]=(0,t.useState)(null===f||void 0===f?void 0:f.totalCount),[E,M]=(0,t.useState)(!1),[I,w]=(0,t.useState)(""),[L,G]=(0,t.useState)(""),j=(0,t.useCallback)((async(e,a)=>{M(!0);const[l,t]=await(0,h.bq)({id:b,limit:v.default.LIMIT,type:m,offset:e,searchText:a});if(t){var n,o;C.open(null!==(n=null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)&&void 0!==n?n:(0,s.MA)({key:"errorMessage",defaultTranslatedValue:d.p.Groups.error_message}))}else{var r,i,u,c;const e=null===l||void 0===l||null===(r=l.members)||void 0===r||null===(i=r.users)||void 0===i?void 0:i.map((e=>({id:e.id,variant:"circular",imgSrc:e.photo,name:e.name,jobTitle:e.jobTitle})));y(null===l||void 0===l||null===(u=l.members)||void 0===u?void 0:u.total),A((a=>[...a,...e])),0===(null===l||void 0===l||null===(c=l.members)||void 0===c?void 0:c.total)&&G('$groupsTranslate({\n            key: "Groups_noUserFoundFor",\n            defaultTranslatedValue: DEFAULT_TRANSLATION["Groups"].no_user_found_for\n          }) '.concat(a))}M(!1)}),[b,C,m]),R=(0,t.useCallback)((e=>{(0,p.d1)(e)&&k>(null===x||void 0===x?void 0:x.length)&&!E&&(j(g+v.default.LIMIT,I),S((e=>e+v.default.LIMIT)))}),[j,g,k,null===x||void 0===x?void 0:x.length,E,I]),O=(0,t.useCallback)((()=>{E||(A([]),j(0,I),S(0))}),[j,E,I]),V=(0,t.useCallback)((e=>{w(e)}),[]),N=(0,t.useCallback)((e=>{_("".concat(v.default.PAGES.USER_PROFILE,"/").concat(e))}),[_]);return(0,r.jsx)("div",{className:"edc-view-group-users-modal",children:(0,r.jsx)(n.UserViewAllModal,{headerString:l,placeholderText:c||(0,s.TB)({key:"searchHerePlaceholder",defaultTranslatedValue:d.p.Search.search_label}),closeModal:u,isModalOpen:i,users:x,cancelButtonText:(0,s.MA)({key:"close",defaultTranslatedValue:d.p.Groups.close}),totalCount:k,onScroll:R,onUserSearch:O,onUserSearchInputChange:V,onUserClick:N,noUserString:L,isLoading:E})})};var O=l(1839);const V=e=>{var a;let{label:l=""}=e,t="";switch(l.toLowerCase()){case v.default.GROUPS_TAB.ABOUT:t=(0,s.MA)({key:"about",defaultTranslatedValue:d.p.Groups.about});break;case v.default.GROUPS_TAB.ASSIGNED:t=(0,s.MA)({key:"assigned",defaultTranslatedValue:O.w.Groups.assigned});break;case v.default.GROUPS_TAB.ASSOCIATED_CHANNELS:t=(0,s.MA)({key:"associatedChannels",defaultTranslatedValue:O.w.Groups.associatedChannels});break;case v.default.GROUPS_TAB.CHANNELS:t=(0,s.MA)({key:"channels",defaultTranslatedValue:O.w.Groups.channels});break;case v.default.GROUPS_TAB.FEATURED:t=(0,s.MA)({key:"featured",defaultTranslatedValue:O.w.Groups.featured});break;case v.default.GROUPS_TAB.MY_ASSIGNMENTS:t=(0,s.MA)({key:"myAssignments",defaultTranslatedValue:O.w.Groups.myAssignments});break;case v.default.GROUPS_TAB.HOME:t=(0,s.MA)({key:"Groups_Home",defaultTranslatedValue:O.w.Groups.home});break;default:t=(0,s.MA)({key:"".concat(l),defaultTranslatedValue:null===(a=O.w.Groups)||void 0===a?void 0:a["".concat(l)]})}return t};var N=l(4959);const U={home:w},P=y((()=>{var e;const{id:a,slug:l,tab:u}=(0,o.UO)(),c=(0,o.s0)(),f=(0,T.p)(),{orgInfo:b,rootElement:S}=(0,t.useContext)(C.Il),[k,y]=(0,t.useState)(!1),[E,M]=(0,t.useState)(""),[I,w]=(0,t.useState)({label:u,id:null}),{data:P,refetch:D}=(0,x.Z)((async()=>{if(l)return await(0,h.L4)({slug:l});{const[l,n]=await(0,h.MW)({id:a});var e,t;return n?(f.open(null!==(e=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)&&void 0!==e?e:(0,s.MA)({key:"errorMessage",defaultTranslatedValue:d.p.Groups.error_message})),null):null!==l&&void 0!==l&&l.slug?await(0,h.L4)({slug:l.slug}):l}})),{data:F,refetch:B}=(0,x.Z)((()=>(0,h.bq)({id:a,limit:v.default.LIMIT}))),{data:H}=(0,x.Z)((()=>(0,h.bq)({id:a,limit:v.default.LIMIT,type:v.default.GROUP_USER_ROLES.LEADER}))),{data:Z}=(0,x.Z)((()=>(0,h.bq)({id:a,limit:v.default.LIMIT,type:v.default.GROUP_USER_ROLES.ADMIN}))),J=(0,t.useMemo)((()=>(0,p.KB)(b.configs)),[b.configs]),{leaders:Q,admins:W,members:Y}=(0,t.useMemo)((()=>{var e,a,l,t;if(!(F&&Z&&H)){const e={users:[],totalCount:0};return{leaders:e,admins:e,members:e}}return{admins:{users:null===Z||void 0===Z||null===(e=Z.members)||void 0===e||null===(a=e.users)||void 0===a?void 0:a.map((e=>({id:e.id,variant:v.default.AVATAR_VARIANTS.circular,imgSrc:e.photo,name:e.name,jobTitle:e.jobTitle}))),totalCount:Z.members.total},leaders:{users:null===H||void 0===H||null===(l=H.members)||void 0===l||null===(t=l.users)||void 0===t?void 0:t.map((e=>({id:e.id,variant:v.default.AVATAR_VARIANTS.circular,imgSrc:e.photo,name:e.name,jobTitle:e.jobTitle}))),totalCount:H.members.total},members:((e,a)=>{const l=(null===P||void 0===P?void 0:P.isTeamAdmin)||(null===P||void 0===P?void 0:P.isTeamSubAdmin),t=null===P||void 0===P?void 0:P.isMember,n=!e||l,o=null===P||void 0===P?void 0:P.isPrivate;return a?!n||!t&&o?{users:[],totalCount:0}:{users:null===a||void 0===a||null===(d=a.members)||void 0===d||null===(s=d.users)||void 0===s?void 0:s.map((e=>({id:e.id,variant:v.default.AVATAR_VARIANTS.circular,imgSrc:(0,N.HK)(e),name:e.name,jobTitle:e.jobTitle}))),totalCount:a.members.total}:{users:[],totalCount:0};var d,s})(J,F)}}),[Z,null===P||void 0===P?void 0:P.isMember,null===P||void 0===P?void 0:P.isPrivate,null===P||void 0===P?void 0:P.isTeamAdmin,null===P||void 0===P?void 0:P.isTeamSubAdmin,H,F,J]),q=(0,t.useMemo)((()=>{var e,a;return(null===P||void 0===P||null===(e=P.carousels)||void 0===e||null===(a=e.filter((e=>e.visible&&"Shared"!==e.default_label)).sort(((e,a)=>e.index-a.index)))||void 0===a?void 0:a.map((e=>e.default_label.toLowerCase()===v.default.GROUPS_TAB.CHANNELS?{navIndex:e.default_label.toLowerCase().trim(),label:(0,s.MA)({key:"associatedChannels",defaultTranslatedValue:O.w.Groups.associatedChannels}),order:e.index}:e.default_label.toLowerCase()===v.default.GROUPS_TAB.ASSIGNED?{navIndex:e.default_label.toLowerCase().trim(),label:(0,s.MA)({key:"myAssignments",defaultTranslatedValue:O.w.Groups.myAssignments}),order:e.index}:e.custom_carousel?{navIndex:e.default_label.toLowerCase().trim(),label:e.default_label.trim(),order:e.index,type:e.type,id:e.id}:{navIndex:e.default_label.toLowerCase().trim(),label:V({label:e.default_label.trim()}),order:e.index})))||[]}),[null===P||void 0===P?void 0:P.carousels]),K=(null===P||void 0===P?void 0:P.isMember)||(null===P||void 0===P?void 0:P.isTeamAdmin)||(null===P||void 0===P?void 0:P.isTeamSubAdmin),X=(0,t.useMemo)((()=>U[I.label]),[I.label]),z=(0,t.useCallback)((async()=>{f.open("Invited")}),[f]),$=(0,t.useCallback)((async()=>{const[,e]=await(0,A.be)(a);e?f.open(e.data.message):(D(),B())}),[a,D,B,f]),[ee,ae]=(0,t.useState)(!1),le=(0,t.useCallback)((async()=>{ae(!1);const[,e]=await(0,A.Ln)(a);e?f.open(e.data.message):(D(),B())}),[a,D,B,f]),te=(0,t.useCallback)((async()=>{ae(!0)}),[]),ne=(0,t.useCallback)((e=>{c("".concat(v.default.PAGES.USER_PROFILE,"/").concat(e))}),[c]),oe=(0,t.useMemo)((()=>null!==P&&void 0!==P&&P.carousels?P.carousels.reduce(((e,a)=>(a.visible&&a.custom_carousel&&e.push(a.default_label.toLowerCase().trim()),e)),[]):[]),[null===P||void 0===P?void 0:P.carousels]),de=(0,t.useCallback)((e=>{var a;return null===P||void 0===P||null===(a=P.carousels)||void 0===a?void 0:a.find((a=>{var l;return a.id===e.id||(null===(l=a.default_label)||void 0===l?void 0:l.toLowerCase())===e.label}))}),[null===P||void 0===P?void 0:P.carousels]),{usersInfo:se,title:re}=(0,t.useMemo)((()=>E===v.default.GROUP_USER_ROLES.ADMIN?{usersInfo:W,title:(0,s.MA)({key:"Groups_groupAdmins",defaultTranslatedValue:d.p.Groups.group_admins})}:E===v.default.GROUP_USER_ROLES.LEADER?{usersInfo:Q,title:(0,s.MA)({key:"Groups_groupLeaders",defaultTranslatedValue:d.p.Groups.group_leaders})}:{usersInfo:Y,title:(0,s.MA)({key:"Groups_groupMembers",defaultTranslatedValue:d.p.Groups.group_members})}),[E,W,Q,Y]),ie=(0,t.useCallback)((e=>{var a;const l=null===P||void 0===P||null===(a=P.carousels)||void 0===a?void 0:a.find((a=>{var l;return(null===(l=a.default_label)||void 0===l?void 0:l.toLowerCase().trim())===(null===e||void 0===e?void 0:e.label)}));return null===l||void 0===l?void 0:l.id}),[null===P||void 0===P?void 0:P.carousels]),ue=(0,t.useCallback)((e=>{switch(e.label){case v.default.GROUPS_TAB.ABOUT:return(0,r.jsx)(i,{isPrivate:null===P||void 0===P?void 0:P.isPrivate,channelDescription:null===P||void 0===P?void 0:P.description});case v.default.GROUPS_TAB.FEATURED:return(0,r.jsx)(g,{});case v.default.GROUPS_TAB.ASSIGNED:return(0,r.jsx)(L,{groupId:a});case v.default.GROUPS_TAB.CHANNELS:return(0,r.jsx)(m,{channelId:a});default:return oe.includes(null===e||void 0===e?void 0:e.label)?(0,r.jsx)(_,{customId:ie(e),currentTab:de(e)}):null}}),[oe,de,ie,null===P||void 0===P?void 0:P.description,null===P||void 0===P?void 0:P.isPrivate,a]);return(0,t.useEffect)((()=>{const e=null===q||void 0===q?void 0:q.find((e=>e.navIndex===u));e?w({label:u,id:e.id}):!q.length&&(0,p.xb)(q)||w({label:q[0].navIndex,id:null})}),[u,q]),(0,r.jsx)("div",{className:"edc-group-detail-view-container",children:(0,r.jsxs)(t.Fragment,{children:[(0,r.jsx)(G.Z,{}),(0,r.jsx)("div",{className:"edc-my-1",children:P?(0,r.jsx)(n.GroupDetailHeaderCard,{title:null===P||void 0===P?void 0:P.name,backgroundImage:null===P||void 0===P||null===(e=P.bannerimageUrls)||void 0===e?void 0:e.medium,leaders:Q,admins:W,members:Y,viewAllCallback:()=>{y(!0),M(v.default.GROUP_USER_ROLES.MEMBER)},handleInviteButtonClick:z,handleLastAvatarClick:()=>{y(!0),M(v.default.GROUP_USER_ROLES.MEMBER)},handleCameraClick:()=>{},handleSettingsClick:()=>{},isMember:K,isPrivate:null===P||void 0===P?void 0:P.isPrivate,isAllowedUploadPicture:!0,isSettingsEnabled:null===P||void 0===P?void 0:P.isTeamAdmin,showLastAvatarIndicator:!0,groupLeaderAvatarCount:4,groupAdminAvatarCount:4,groupMemberAvatarCount:10,avatarSize:"medium",onJoinClick:$,onLeaveClick:te,handleLastAdminAvatarClick:()=>{y(!0),M(v.default.GROUP_USER_ROLES.ADMIN)},handleLastLeaderAvatarClick:()=>{y(!0),M(v.default.GROUP_USER_ROLES.LEADER)},handleAvatarClick:ne,hideViewAllButton:!1,groupLabelText:(0,s.MA)({key:"group",defaultTranslatedValue:d.p.Groups.group_label_text}),groupLeadersLabelText:(0,s.MA)({key:"Groups_groupLeadersLabelText",defaultTranslatedValue:d.p.Groups.group_leaders_label_text}),groupAdminsLabelText:(0,s.MA)({key:"Groups_groupAdminsLabelText",defaultTranslatedValue:d.p.Groups.group_admins_label_text}),membersLabelText:(0,s.MA)({key:"members",defaultTranslatedValue:d.p.Groups.members_label_text}),viewAllLabelText:(0,s.MA)({key:"viewAll",defaultTranslatedValue:d.p.Groups.view_all_label_text}),joinedText:(0,s.nO)({key:"joined",defaultTranslatedValue:d.p.GroupCard.joined_group_text}),leaveGroupText:(0,s.nO)({key:"leaveGroup",defaultTranslatedValue:d.p.GroupCard.leave_group_text}),joinGroupText:(0,s.nO)({key:"joinGroup",defaultTranslatedValue:d.p.GroupCard.join_group_text})}):null}),(0,r.jsx)("div",{className:"edc-my-1",children:(0,r.jsx)(n.Navbar,{isDrawerVisible:!1,childrenArray:q,handleSelectedNavItemChange:e=>{Object.keys(e).length&&c("".concat(v.default.PAGES.GROUP_DETAIL,"/").concat(a,"/").concat(l,"/").concat(e))},overlay:!0,selectedNavItem:I.label,style:{boxShadow:"0 0.125rem 0.375rem #26273b24",borderRadius:"0.375rem",backgroundColor:"var(--edc-bg-color_secondary)"},numberOfItems:6,MoreLabel:(0,s.Tu)({key:"TopNav_more",defaultTranslatedValue:d.p.TopNav.more}),rootElement:S,moreNavItemClassName:"edc-group-detail-nav-more-items"})}),(0,r.jsx)("div",{children:X?(0,r.jsx)(X,{id:a,isMember:K}):null}),ue(I),(0,r.jsx)(j,{title:(0,s.MA)({key:"groupDeleteTitle",defaultTranslatedValue:d.p.Groups.group_delete_title}),content:(0,s.MA)({key:"Groups_groupDeleteContent",defaultTranslatedValue:d.p.Groups.group_delete_content}),deleteText:(0,s.MA)({key:"groupDeleteTitle",defaultTranslatedValue:d.p.Groups.group_delete_text}),cancelLabel:(0,s.MA)({key:"cancel",defaultTranslatedValue:d.p.Groups.cancel}),open:ee,handleClose:()=>ae(!1),onConfirm:le}),k?(0,r.jsx)(R,{headerString:re,isModalOpen:k,closeModal:()=>y(!1),userType:E,usersInfo:se,placeholderText:(0,s.MA)({key:"searchHerePlaceholder",defaultTranslatedValue:d.p.Groups.search_here}),groupId:a}):null]})})}))}}]);