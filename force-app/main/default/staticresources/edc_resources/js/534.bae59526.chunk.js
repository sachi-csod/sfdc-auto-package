"use strict";(self.webpackChunkedc_widgets_sfdc=self.webpackChunkedc_widgets_sfdc||[]).push([[534,843],{9467:(e,a,l)=>{l.d(a,{Z:()=>o});l(1649);var d=l(2143),t=l(3442),n=l(5490),s=l(7064),i=l(8170);const o=e=>{let{goBack:a}=e;const l=(0,t.s0)();return(0,i.jsx)("div",{className:"edc-position-relative edc-back-button",children:(0,i.jsxs)("div",{onClick:()=>{"function"!==typeof a?l(-1):a()},className:"edc-d-flex edc-pointer edc-align-items-center edc-gap-one-fourth edc-back-button-icon-and-text",children:[(0,i.jsx)("span",{className:"edc-d-inline-flex",children:(0,i.jsx)(d.ArrowBackwardIcon,{width:10,height:20})}),(0,i.jsx)("span",{children:(0,s.TB)({key:"back",defaultTranslatedValue:n.p.Search.back})})]})})}},843:(e,a,l)=>{l.r(a),l.d(a,{default:()=>v});var d=l(1649),t=l(2143),n=l(3442),s=l(2856),i=l(5490),o=l(5201),r=l(5523),u=l(7064),c=l(8170);const v=e=>{let{group:a,handleRemovePendingRequest:l}=e;const v=(0,n.s0)(),f=(0,o.p)(),[p,m]=(0,d.useState)(a),[T,_]=(0,d.useState)(!1),g=(0,d.useCallback)((()=>{v("".concat(s.default.PAGES.GROUP_DETAIL,"/").concat(null===p||void 0===p?void 0:p.id,"/").concat(null===p||void 0===p?void 0:p.slug))}),[null===p||void 0===p?void 0:p.id,null===p||void 0===p?void 0:p.slug,v]),x=(0,d.useCallback)((async()=>{const[e,a]=await(0,r.Ln)(null===p||void 0===p?void 0:p.id);a?f.open(a.data.message):m(e)}),[null===p||void 0===p?void 0:p.id,f]),S=(0,d.useCallback)((async()=>{const[e,a]=await(0,r.be)(null===p||void 0===p?void 0:p.id);a?f.open(a.data.message):m(e)}),[null===p||void 0===p?void 0:p.id,f]),C=(0,d.useCallback)((async()=>{const[e,a]=await(0,r.fc)(p.id);a?f.open(a.data.message):null!==e&&void 0!==e&&e.id&&null!==e&&void 0!==e&&e.slug?v("".concat(s.default.PAGES.GROUP_DETAIL,"/").concat(null===e||void 0===e?void 0:e.id,"/").concat(null===e||void 0===e?void 0:e.slug)):f.open(s.default.ERRORS.MESSAGE)}),[p.id,v,f]),E=()=>{_(!1)},y=(0,d.useCallback)((async()=>{const[e,a]=await(0,r.CN)(p.id);a?f.open(a.data.message):null!==e&&void 0!==e&&e.id?(l(e.id),_(!1)):f.open(s.default.ERRORS.MESSAGE)}),[p.id,l,f]),b=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"edc-decline-message",children:(0,u.a3)({key:"Modal_declineMessageGroupName",defaultTranslatedValue:i.p.Modal.decline_message_group_name})}),(0,c.jsx)("div",{className:"edc-decline-text",children:(0,u.a3)({key:"Modal_declineMessageText",defaultTranslatedValue:i.p.Modal.decline_message_text})})]});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(t.GroupCard,{groupMetaData:p,onShowGroup:g,onLeaveGroup:x,onJoinGroup:S,onAcceptGroupInvite:C,onDeclineGroupInvite:()=>{_(!0)},joinGroupText:(0,u.nO)({key:"joinGroup",defaultTranslatedValue:i.p.GroupCard.join_group_text}),leaveGroupText:(0,u.nO)({key:"leaveGroup",defaultTranslatedValue:i.p.GroupCard.leave_group_text}),DeclineGroupText:(0,u.nO)({key:"decline",defaultTranslatedValue:i.p.GroupCard.decline_group_text}),JoinedGroupText:(0,u.nO)({key:"joined",defaultTranslatedValue:i.p.GroupCard.joined_group_text}),awaitGroupText:(0,u.nO)({key:"awaitingApproval",defaultTranslatedValue:i.p.GroupCard.await_group_text}),groupIconText:(0,u.nO)({key:"group",defaultTranslatedValue:i.p.GroupCard.group_icon_text}),privateGroupText:(0,u.nO)({key:"private",defaultTranslatedValue:i.p.GroupCard.private_group_text}),memberGroupText:(0,u.nO)({key:"members",defaultTranslatedValue:i.p.GroupCard.member_group_text})}),(0,c.jsx)(t.Modal,{isModalOpen:T,modalHeaderData:{headerString:(0,u.a3)({key:"Modal_declineGroupInvitation",defaultTranslatedValue:i.p.Modal.decline_group_invitation}),closeModal:E},modalBodyData:b,modalFooterData:{cancelButtonText:(0,u.a3)({key:"cancel",defaultTranslatedValue:i.p.Modal.cancel}),submitButtonText:(0,u.a3)({key:"Modal_declineGroupInvitation",defaultTranslatedValue:i.p.Modal.decline_group_invitation}),closeModal:E,submitButtonCallback:()=>{y()}}})]})}},3838:(e,a,l)=>{l.d(a,{Z:()=>i});l(1649);var d=l(2143),t=l(5490),n=l(7064),s=l(8170);const i=e=>{let{onClick:a=(()=>{})}=e;return(0,s.jsx)("div",{className:"edc-view-more-btn-container",children:(0,s.jsx)(d.PrimaryButton,{fillColor:"#ffffff",onClick:a,text:(0,n.IQ)({key:"viewMore",defaultTranslatedValue:t.p.Notification.view_more}),variant:"outlined"})})}},2534:(e,a,l)=>{l.r(a),l.d(a,{default:()=>R});var d=l(1649),t=l(2143),n=l(3442),s=l(5729),i=l(9467),o=l(2856),r=l(5490),u=l(7064),c=l(8079),v=l(843),f=l(8170);const p=(0,d.lazy)((()=>l.e(554).then(l.bind(l,6554)))),m=(0,d.lazy)((()=>Promise.resolve().then(l.bind(l,24)))),T=(0,d.lazy)((()=>l.e(547).then(l.bind(l,8547)))),_=(0,d.lazy)((()=>l.e(267).then(l.bind(l,6534)))),g=e=>{var a;let{cards:l,carouselType:n,deleteCardFromList:s,sectionType:i,isLoading:g}=e;if(l&&(0,c.xb)(l)&&!g)return(0,f.jsx)("div",{className:"edc-view-all-center-content",children:(0,u.eO)({key:"Cards_noResultFound",defaultTranslatedValue:r.p.Cards.no_result_found})});switch(n){case o.default.DISCOVER_TAB_CAROUSEL_TYPE.CARD:return null===l||void 0===l||null===(a=l.filter((e=>void 0===(null===e||void 0===e?void 0:e.accessible)||null===(null===e||void 0===e?void 0:e.accessible)||(null===e||void 0===e?void 0:e.accessible))))||void 0===a?void 0:a.map(((e,a)=>{var l;return(0,f.jsx)(d.Suspense,{fallback:(0,f.jsx)(t.SmartCardSkeleton,{}),children:(0,f.jsx)("div",{className:"edc-view-all-card-data",children:(0,f.jsx)(m,{cardData:e,deleteCardFromList:s,sectionType:i},null!==(l=null===e||void 0===e?void 0:e.id)&&void 0!==l?l:a)})},a)}));case o.default.DISCOVER_TAB_CAROUSEL_TYPE.USER:return null===l||void 0===l?void 0:l.map(((e,a)=>{var l;return(0,f.jsx)(d.Suspense,{fallback:(0,f.jsx)(t.SmartCardSkeleton,{}),children:(0,f.jsx)("div",{className:"edc-view-all-card-data edc-view-all-user-card-data",children:(0,f.jsx)(p,{user:e},null!==(l=null===e||void 0===e?void 0:e.id)&&void 0!==l?l:a)})},a)}));case o.default.DISCOVER_TAB_CAROUSEL_TYPE.CHANNEL:return null===l||void 0===l?void 0:l.map(((e,a)=>{var l;return(0,f.jsx)(d.Suspense,{fallback:(0,f.jsx)(t.SmartCardSkeleton,{}),children:(0,f.jsx)("div",{className:"edc-view-all-card-data edc-view-all-channel-card-data",children:(0,f.jsx)(_,{channel:e},null!==(l=null===e||void 0===e?void 0:e.id)&&void 0!==l?l:a)})},a)}));case o.default.DISCOVER_TAB_CAROUSEL_TYPE.PROVIDERS:return null===l||void 0===l?void 0:l.map(((e,a)=>{var l;return(0,f.jsx)(d.Suspense,{fallback:(0,f.jsx)(t.SmartCardSkeleton,{}),children:(0,f.jsx)("div",{className:"edc-view-all-card-data edc-view-all-providers-card-data",children:(0,f.jsx)(T,{cardData:e},null!==(l=null===e||void 0===e?void 0:e.id)&&void 0!==l?l:a)})},a)}));case o.default.CAROUSEL_TYPE.GROUP:return null===l||void 0===l?void 0:l.map(((e,a)=>{var l;return(0,f.jsx)(d.Suspense,{fallback:(0,f.jsx)(t.SmartCardSkeleton,{}),children:(0,f.jsx)("div",{className:"edc-view-all-card-data edc-view-all-group-card-data",children:(0,f.jsx)(v.default,{group:e},null!==(l=null===e||void 0===e?void 0:e.id)&&void 0!==l?l:a)})},a)}));default:!g&&(0,u.eO)({key:"Cards_noResultFound",defaultTranslatedValue:r.p.Cards.no_result_found})}};var x=l(3838),S=l(8984),C=l(5201),E=l(5523),y=l(744);const b=async e=>{let{url:a,domainURL:l=null,filter_by_language:d=!0}=e;return d&&(a+="&filter_by_language=".concat(d)),await(0,y.x)({url:a,domain:l,requestType:o.default.HTTP_METHOD.GET})};var k=l(9923),O=l(224),h=l(4683);const R=()=>{const{state:e}=(0,n.TH)(),[a]=(0,s.lr)(),[l,v]=(0,d.useState)(),{userInfo:p}=(0,d.useContext)(S.Il),m=(0,C.p)(),{label:T,fromPage:_}=null!==e&&void 0!==e?e:{},[R,j]=(0,d.useState)([]),[I,A]=(0,d.useState)(o.default.DISCOVER_TAB_CAROUSEL_TYPE.CARD),[L,w]=(0,d.useState)(!0),[G,M]=(0,d.useState)(!1),[N,P]=(0,d.useState)(!1),[V,D]=(0,d.useState)(0),U=(0,d.useCallback)((async()=>{const{domain:a,jwtToken:l}=p;w(!0);try{if(_===o.default.TABS.DISCOVER){const{carousel:s,carouselTypeSplitArray:i,carouselTypeSplitArrayLength:v}=e,f=await(0,E.bG)({domain:a,jwtToken:l});let{url:T,domainURL:_}=await(0,h.vX)({state:e,userInfo:p,limit:o.default.LIMIT,offset:V,userData:f});const[g,x]=await b({url:T,domainURL:_,filter_by_language:!(null!==T&&void 0!==T&&T.includes("bookmarks"))});var d,t;if(x)m.open(null!==(d=null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.message)&&void 0!==d?d:(0,u.eO)({key:"errorMessage",defaultTranslatedValue:r.p.Cards.error_message}));if(g){let e=g.data||g.users||g.cards||g.videos||g.channels||g.assignments||g.structuredItems||g;var n;if(e=(0,c.xb)(g.structuredItems)?e:(0,h.xM)(e,"entity"),e=(0,c.xb)(g.assignments)?e:(0,h.xM)(e,"assignable"),5===v&&i[3]===o.default.DISCOVER_TAB_CAROUSEL_TYPE.CHANNEL)e=null===(n=Object.values(Object.values(e)[0]))||void 0===n?void 0:n.map((e=>e.entity));const{carouselType:a,filterData:l}=(0,k.PY)({data:e,carousel:s,carouselTypeSplitArray:i,carouselTypeSplitArrayLength:v});(0,c.xb)(e)||j((e=>0===V?l:[...e,...l])),M((null===l||void 0===l?void 0:l.length)<o.default.LIMIT),A(a),w(!1),P(!1)}}else if(_===o.default.TABS.HOME){let{type:a,value:l}=e,d=O.Bz[a];l.url&&(d=()=>l.url+"?limit=".concat(o.default.LIMIT,"&offset=").concat(V));const t=(0,c.aG)(),n=d&&d({limit:o.default.LIMIT,offset:V,lastAccessAt:t,isRecommended:!0}),[p,T]=await b({url:n,filter_by_language:!(null!==n&&void 0!==n&&n.includes("bookmarks"))});var s,i;if(T)m.open(null!==(s=null===T||void 0===T||null===(i=T.data)||void 0===i?void 0:i.message)&&void 0!==s?s:(0,u.eO)({key:"errorMessage",defaultTranslatedValue:r.p.Cards.error_message}));if(p){var v,f;let e=p.data||p.users||p.cards||p.videos||p.channels||p.assignments||p.structuredItems||(null===p||void 0===p||null===(v=p.bookmarks)||void 0===v?void 0:v.cards)||p;e=(0,c.xb)(p.structuredItems)?e:(0,h.xM)(e,"entity"),e=(0,c.xb)(p.assignments)?e:(0,h.xM)(e,"assignable"),(0,c.xb)(e)||j((a=>0===V?e:[...a,...e])),M((null===(f=e)||void 0===f?void 0:f.length)<o.default.LIMIT),w(!1),P(!1)}}else if(_===o.default.CAROUSEL_TYPE.CHANNEL){const[e,a]=await(async e=>{let{offset:a=o.default.OFFSET}=e;const l="".concat(o.default.LXP_RESOURCES.CHANNELS,"?limit=").concat(o.default.LIMIT,"&offset=").concat(a,"&sort=created_at&order_label=desc&is_following=true&fields=").concat(o.default.CHANNELS_FIELD);return await(0,y.x)({url:l,requestType:o.default.HTTP_METHOD.GET})})({offset:V});if(e){let a=e.channels;(0,c.xb)(a)||j((e=>0===V?a:[...e,...a])),M((null===a||void 0===a?void 0:a.length)<o.default.LIMIT),A(o.default.DISCOVER_TAB_CAROUSEL_TYPE.CHANNEL),w(!1),P(!1)}var T,g;if(a)m.open(null!==(T=null===a||void 0===a||null===(g=a.data)||void 0===g?void 0:g.message)&&void 0!==T?T:(0,u.eO)({key:"errorMessage",defaultTranslatedValue:r.p.Cards.error_message}))}else if(_===o.default.CAROUSEL_TYPE.GROUP){const[e,a]=await(async e=>{let{offset:a=o.default.OFFSET}=e;const l="".concat(o.default.LXP_RESOURCES.GROUP,"?limit=").concat(o.default.LIMIT,"&offset=").concat(a,"&role=my&fields=").concat(o.default.GROUP_FIELDS);return await(0,y.x)({url:l,requestType:o.default.HTTP_METHOD.GET})})({offset:V});if(e){let a=e.teams;(0,c.xb)(a)||j((e=>0===V?a:[...e,...a])),M((null===a||void 0===a?void 0:a.length)<o.default.LIMIT),A(o.default.CAROUSEL_TYPE.GROUP),w(!1),P(!1)}var x,S;if(a)m.open(null!==(x=null===a||void 0===a||null===(S=a.data)||void 0===S?void 0:S.message)&&void 0!==x?x:(0,u.eO)({key:"errorMessage",defaultTranslatedValue:r.p.Cards.error_message}))}else if(_===o.default.TABS.IN_PROGRESS){const[e,a]=await(0,E.H_)({userId:p.id,offset:V});if(e){let a=e.cards;(0,c.xb)(a)||j((e=>0===V?a:[...e,...a])),M((null===a||void 0===a?void 0:a.length)<o.default.LIMIT),A(o.default.DISCOVER_TAB_CAROUSEL_TYPE.CARD),w(!1),P(!1)}var C,R;if(a)m.open(null!==(C=null===a||void 0===a||null===(R=a.data)||void 0===R?void 0:R.message)&&void 0!==C?C:(0,u.eO)({key:"errorMessage",defaultTranslatedValue:r.p.Cards.error_message}))}}catch(G){var I,L;m.open(null!==(I=null===G||void 0===G||null===(L=G.data)||void 0===L?void 0:L.message)&&void 0!==I?I:(0,u.eO)({key:"errorMessage",defaultTranslatedValue:r.p.Cards.error_message}))}}),[p,_,e,V,m]),B=(0,d.useCallback)((()=>{R.length>0&&!G&&!N&&(D((e=>e+o.default.LIMIT)),P(!0))}),[R.length,G,N]);if((0,d.useEffect)((()=>{U()}),[U]),(0,d.useEffect)((()=>{v(a.get("sectiontype"))}),[a]),!e)return(0,f.jsx)(n.Fg,{to:o.default.PAGES.DASHBOARD});return(0,f.jsxs)("div",{className:"edc-view-all-page",children:[(0,f.jsx)(i.Z,{}),(0,f.jsx)("div",{className:"edc-view-all-label-container",children:(0,f.jsx)("h3",{className:"edc-text-primary",children:T})}),(0,f.jsxs)("div",{className:"edc-view-all-cards-container",children:[(0,f.jsx)("div",{className:"edc-view-all-cards",children:(0,f.jsx)(g,{cards:R,carouselType:I,deleteCardFromList:e=>{l===o.default.ORG_LABEL_CONFIG.FEED_ASSIGNMENT&&j((a=>null===a||void 0===a?void 0:a.filter((a=>{var l;return Number((null===a||void 0===a||null===(l=a.assignable)||void 0===l?void 0:l.id)||(null===a||void 0===a?void 0:a.id))!==Number(e)}))))},sectionType:l,isLoading:L})}),(0,f.jsx)("div",{className:"edc-view-all-center-content edc-mt-2",children:L?(0,f.jsx)(t.Spinner,{variant:"lg",spinnerMessage:(0,u.eO)({key:"waitingCardsLoaderLabel",defaultTranslatedValue:r.p.Cards.waiting_cards_loader_label})}):!G&&null!==R&&void 0!==R&&R.length?(0,f.jsx)(x.Z,{onClick:B}):null})]})]})}}}]);