"use strict";(self.webpackChunkedc_widgets_sfdc=self.webpackChunkedc_widgets_sfdc||[]).push([[496,267,554,843],{6534:(e,l,a)=>{a.r(l),a.d(l,{default:()=>p});var t=a(1649),s=a(2143),n=a(3442),o=a(2856),d=a(5490),r=a(8984),c=a(5201),i=a(4019),u=a(7064),v=a(8170);const p=e=>{const{userInfo:l,orgInfo:a}=(0,t.useContext)(r.Il),[p,T]=(0,t.useState)(e.channel||{}),[h,f]=(0,t.useState)(!1),S=(0,n.s0)(),x=(0,c.p)();(0,t.useEffect)((()=>{var l,t;const s=null===a||void 0===a||null===(l=a.configs)||void 0===l||null===(t=l.find((e=>e.name===o.default.ADMIN_CONFIG.PRIVATE_CHANNEL_SHOW_LOCK_ICON)))||void 0===t?void 0:t.value,n={...e.channel};n.isPrivate=!!s&&n.isPrivate,T(n)}),[a,e.channel]);const g=async()=>{f(!0);const{domain:e,jwtToken:a}=l,[t,s]=await(0,i.$x)({channel:p,jwtToken:a,domain:e});if(t){const e=p.isFollowing;p.isFollowing=!e,p.followersCount=null!==p&&void 0!==p&&p.isFollowing?((null===p||void 0===p?void 0:p.followersCount)||0)+1:((null===p||void 0===p?void 0:p.followersCount)||0)-1,T(p),f(!1)}var n;s&&(x.open((null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||o.default.ERRORS.MESSAGE),f(!1))},y=(0,t.useCallback)((()=>{S("".concat(o.default.PAGES.CHANNEL_DETAIL,"/").concat(p.id))}),[p.id,S]);return(0,v.jsx)(s.ChannelCard,{onFollow:g,onUnfollow:g,onShowChannel:y,isAPIProcessing:h,channelMetaData:p,channelIconText:(0,u.eO)({key:"Cards_channel",defaultTranslatedValue:d.p.Cards.channel}),moreText:(0,u.eO)({key:"more",defaultTranslatedValue:d.p.Cards.more}),followersText:(0,u.eO)({key:"followers",defaultTranslatedValue:d.p.Cards.followers}),followingText:(0,u.eO)({key:"following",defaultTranslatedValue:d.p.Cards.following}),privateText:(0,u.eO)({key:"private",defaultTranslatedValue:d.p.Cards.private}),followChannelText:(0,u.eO)({key:"Cards_followChannel",defaultTranslatedValue:d.p.Cards.follow_channel}),unfollowChannelText:(0,u.eO)({key:"Cards_unfollowChannel",defaultTranslatedValue:d.p.Cards.unfollow_channel}),disabledChannelText:(0,u.mr)({key:"ManagerDashboard_comingSoon",defaultTranslatedValue:d.p.ManagerDashboard.coming_soon})})}},843:(e,l,a)=>{a.r(l),a.d(l,{default:()=>v});var t=a(1649),s=a(2143),n=a(3442),o=a(2856),d=a(5490),r=a(5201),c=a(5523),i=a(7064),u=a(8170);const v=e=>{let{group:l,handleRemovePendingRequest:a}=e;const v=(0,n.s0)(),p=(0,r.p)(),[T,h]=(0,t.useState)(l),[f,S]=(0,t.useState)(!1),x=(0,t.useCallback)((()=>{v("".concat(o.default.PAGES.GROUP_DETAIL,"/").concat(null===T||void 0===T?void 0:T.id,"/").concat(null===T||void 0===T?void 0:T.slug))}),[null===T||void 0===T?void 0:T.id,null===T||void 0===T?void 0:T.slug,v]),g=(0,t.useCallback)((async()=>{const[e,l]=await(0,c.Ln)(null===T||void 0===T?void 0:T.id);l?p.open(l.data.message):h(e)}),[null===T||void 0===T?void 0:T.id,p]),y=(0,t.useCallback)((async()=>{const[e,l]=await(0,c.be)(null===T||void 0===T?void 0:T.id);l?p.open(l.data.message):h(e)}),[null===T||void 0===T?void 0:T.id,p]),_=(0,t.useCallback)((async()=>{const[e,l]=await(0,c.fc)(T.id);l?p.open(l.data.message):null!==e&&void 0!==e&&e.id&&null!==e&&void 0!==e&&e.slug?v("".concat(o.default.PAGES.GROUP_DETAIL,"/").concat(null===e||void 0===e?void 0:e.id,"/").concat(null===e||void 0===e?void 0:e.slug)):p.open(o.default.ERRORS.MESSAGE)}),[T.id,v,p]),k=()=>{S(!1)},C=(0,t.useCallback)((async()=>{const[e,l]=await(0,c.CN)(T.id);l?p.open(l.data.message):null!==e&&void 0!==e&&e.id?(a(e.id),S(!1)):p.open(o.default.ERRORS.MESSAGE)}),[T.id,a,p]),m=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"edc-decline-message",children:(0,i.a3)({key:"Modal_declineMessageGroupName",defaultTranslatedValue:d.p.Modal.decline_message_group_name})}),(0,u.jsx)("div",{className:"edc-decline-text",children:(0,i.a3)({key:"Modal_declineMessageText",defaultTranslatedValue:d.p.Modal.decline_message_text})})]});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.GroupCard,{groupMetaData:T,onShowGroup:x,onLeaveGroup:g,onJoinGroup:y,onAcceptGroupInvite:_,onDeclineGroupInvite:()=>{S(!0)},joinGroupText:(0,i.nO)({key:"joinGroup",defaultTranslatedValue:d.p.GroupCard.join_group_text}),leaveGroupText:(0,i.nO)({key:"leaveGroup",defaultTranslatedValue:d.p.GroupCard.leave_group_text}),DeclineGroupText:(0,i.nO)({key:"decline",defaultTranslatedValue:d.p.GroupCard.decline_group_text}),JoinedGroupText:(0,i.nO)({key:"joined",defaultTranslatedValue:d.p.GroupCard.joined_group_text}),awaitGroupText:(0,i.nO)({key:"awaitingApproval",defaultTranslatedValue:d.p.GroupCard.await_group_text}),groupIconText:(0,i.nO)({key:"group",defaultTranslatedValue:d.p.GroupCard.group_icon_text}),privateGroupText:(0,i.nO)({key:"private",defaultTranslatedValue:d.p.GroupCard.private_group_text}),memberGroupText:(0,i.nO)({key:"members",defaultTranslatedValue:d.p.GroupCard.member_group_text})}),(0,u.jsx)(s.Modal,{isModalOpen:f,modalHeaderData:{headerString:(0,i.a3)({key:"Modal_declineGroupInvitation",defaultTranslatedValue:d.p.Modal.decline_group_invitation}),closeModal:k},modalBodyData:m,modalFooterData:{cancelButtonText:(0,i.a3)({key:"cancel",defaultTranslatedValue:d.p.Modal.cancel}),submitButtonText:(0,i.a3)({key:"Modal_declineGroupInvitation",defaultTranslatedValue:d.p.Modal.decline_group_invitation}),closeModal:k,submitButtonCallback:()=>{C()}}})]})}},6554:(e,l,a)=>{a.r(l),a.d(l,{default:()=>T});var t=a(1649),s=a(2143),n=a(3442),o=a(2856),d=a(5490),r=a(8984),c=a(5201),i=a(5523),u=a(5338),v=a(7064),p=a(8170);const T=e=>{const{userInfo:l}=(0,t.useContext)(r.Il),[a,T]=(0,t.useState)(e.user||{}),[h,f]=(0,t.useState)(!1),S=(0,u.aN)(a,l),x=(0,n.s0)(),g=(0,c.p)(),y=async()=>{f(!0);const{domain:e,jwtToken:t}=l,[s,n]=await(0,i.BZ)({user:a,jwtToken:t,domain:e});if(s){const e=a.isFollowing;a.isFollowing=!e,a.followersCount=a.isFollowing?a.followersCount+1:a.followersCount-1,T(a),f(!1)}n&&(g.open(n.data.message),f(!1))};return(0,p.jsx)(s.PeopleCard,{onFollow:y,onUnfollow:y,isAPIProcessing:h,onShowUser:()=>{x("".concat(o.default.PAGES.USER_PROFILE,"/").concat(a.id))},peopleCardMetaData:S,followingLabelText:(0,v.eO)({key:"following",defaultTranslatedValue:d.p.Cards.following}),followButtonText:(0,v.eO)({key:"follow",defaultTranslatedValue:d.p.Cards.follow}),unfollowButtonText:(0,v.eO)({key:"unFollow",defaultTranslatedValue:d.p.Cards.unfollow}),followersLabelText:(0,v.eO)({key:"followers",defaultTranslatedValue:d.p.Cards.followers})})}},2488:(e,l,a)=>{a.d(l,{Z:()=>n});a(1649);var t=a(2143),s=a(8170);const n=e=>{let{text:l}=e;return(0,s.jsx)(t.PrimaryButton,{className:"edc-navbar-action-btn down-arrow green-border}",text:l,variant:"outlined",fillColor:"white"})}},7846:(e,l,a)=>{a.d(l,{Z:()=>f});var t=a(1649),s=a(2143),n=a(5422),o=a.n(n),d=a(2856),r=a(5490),c=a(8984),i=a(5201),u=a(1405),v=a(599),p=a(7064),T=a(2488),h=a(8170);const f=t.memo((e=>{var l,a,n,f,S,x,g,y,_,k;let{id:C,options:m,selectedFilters:b={},setSelectedFilters:V}=e;const{userInfo:B,rootElement:w}=(0,t.useContext)(c.Il),[I,A]=(0,t.useState)(!1),[F,E]=(0,t.useState)({}),[j,N]=(0,t.useState)(0),[M,L]=(0,t.useState)(!0),[R,O]=(0,t.useState)([]),[G,P]=(0,t.useState)(!1),D=(0,i.p)(),U=o()((e=>{q(e)}),500),Z=(0,t.useCallback)((async()=>{var e,l,a;const t=0+d.default.LIMIT_TWENTY,s=null===m||void 0===m||null===(e=m.user_ids)||void 0===e?void 0:e.slice(0,t),[n,o]=await(0,u.wX)({userInfo:B,user_id:s});var r;if(o)return void D.open((null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)||d.default.ERRORS.MESSAGE);const c={};null===n||void 0===n||null===(l=n.users)||void 0===l||l.forEach((e=>{c[e.id]=null===e||void 0===e?void 0:e.fullName}));const i=[];null===m||void 0===m||null===(a=m.user_ids)||void 0===a||a.forEach((e=>{const l=e.key,a=e.doc_count;if(!isNaN(l)){const e=parseInt(l);if(c[e]){const t=c[e];i.push({key:l,doc_count:a,name:t})}}}));const v=null===i||void 0===i?void 0:i.map((e=>({id:e.key,text:"".concat(e.name," ").concat((null===e||void 0===e?void 0:e.doc_count)&&"(".concat(e.doc_count,")")||""),value:e.name}))),p=(null===m||void 0===m?void 0:m.user_ids.length)>t;P(!!p),O(v),N(t)}),[null===m||void 0===m?void 0:m.user_ids,D,B]),H=(0,t.useCallback)((async()=>{var e,l;const a=d.default.LIMIT_TWENTY,t=j,s=t+a,n=null===m||void 0===m||null===(e=m.user_ids)||void 0===e?void 0:e.slice(t,s),[o,r]=await(0,u.wX)({userInfo:B,user_id:n});var c;if(r)return void D.open((null===r||void 0===r||null===(c=r.data)||void 0===c?void 0:c.message)||d.default.ERRORS.MESSAGE);const i={};null===o||void 0===o||null===(l=o.users)||void 0===l||l.forEach((e=>{i[e.id]=null===e||void 0===e?void 0:e.fullName}));const v=[];n.forEach((e=>{const l=e.key,a=e.doc_count;if(!isNaN(l)){const e=parseInt(l);if(i[e]){const t=i[e];v.push({key:l,doc_count:a,name:t})}}}));const p=null===v||void 0===v?void 0:v.map((e=>({id:e.key,text:"".concat(e.name," ").concat((null===e||void 0===e?void 0:e.doc_count)&&"(".concat(e.doc_count,")")||""),value:e.name}))),T=(null===m||void 0===m?void 0:m.user_ids.length)>s;P(!!T),O([...R,...p]),N(s)}),[R,j,null===m||void 0===m?void 0:m.user_ids,D,B]),q=(0,t.useCallback)((async e=>{var l,a;const t=null===m||void 0===m?void 0:m.user_ids,[s,n]=await(0,u.wX)({userInfo:B,user_id:t,searchTextValue:e});var o;if(n)return void D.open((null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||d.default.ERRORS.MESSAGE);const r={};null===s||void 0===s||null===(l=s.users)||void 0===l||l.forEach((e=>{r[e.id]=null===e||void 0===e?void 0:e.fullName}));const c=[];null===m||void 0===m||null===(a=m.user_ids)||void 0===a||a.forEach((e=>{const l=e.key,a=e.doc_count;if(!isNaN(l)){const e=parseInt(l);if(r[e]){const t=r[e];c.push({key:l,doc_count:a,name:t})}}}));const i=null===c||void 0===c?void 0:c.map((e=>({id:e.key,text:"".concat(e.name," ").concat((null===e||void 0===e?void 0:e.doc_count)&&"(".concat(e.doc_count,")")||""),value:e.name})));P(!1),O(i)}),[null===m||void 0===m?void 0:m.user_ids,D,B]);return(0,t.useEffect)((()=>{I&&Z()}),[I,Z]),(0,t.useEffect)((()=>{L(!I)}),[I]),(0,h.jsxs)("div",{className:"edc-search-filter-container",children:[(0,h.jsx)(s.InputDialogSelect,{withSearch:!0,options:(0,v.zS)(null===m||void 0===m?void 0:m.standard_type)||[],clearAllText:(0,p.TB)({key:"Search_clearAllText",defaultTranslatedValue:r.p.Search.clear_all_text}),cancelText:(0,p.TB)({key:"cancel",defaultTranslatedValue:r.p.Search.cancel_text}),selectAllText:(0,p.TB)({key:"selectAll",defaultTranslatedValue:r.p.Search.select_all_text}),selectedText:(0,p.TB)({key:"selected",defaultTranslatedValue:r.p.Search.selected_text}),buttonText:(0,p.TB)({key:"select",defaultTranslatedValue:r.p.Search.select}),selectedValue:(null===b||void 0===b||null===(l=b.content)||void 0===l?void 0:l.standard_type)||[],onSelect:e=>{V({...b,content:{...null===b||void 0===b?void 0:b.content,standard_type:e}})},clearAllCallback:()=>{V({...b,content:{...null===b||void 0===b?void 0:b.content,standard_type:[]}})},rootElement:w,children:(0,h.jsx)(T.Z,{text:(0,p.TB)({key:"contentType",defaultTranslatedValue:r.p.Search.content_type})})}),(0,h.jsx)(s.InputDialogSelect,{withSearch:!0,options:(null===m||void 0===m?void 0:m.source_id)||[],selectedValue:(null===b||void 0===b||null===(a=b.content)||void 0===a?void 0:a.source_id)||[],clearAllText:(0,p.TB)({key:"Search_clearAllText",defaultTranslatedValue:r.p.Search.clear_all_text}),cancelText:(0,p.TB)({key:"cancel",defaultTranslatedValue:r.p.Search.cancel_text}),selectAllText:(0,p.TB)({key:"selectAll",defaultTranslatedValue:r.p.Search.select_all_text}),selectedText:(0,p.TB)({key:"selected",defaultTranslatedValue:r.p.Search.selected_text}),buttonText:(0,p.TB)({key:"select",defaultTranslatedValue:r.p.Search.select}),onSelect:e=>{V({...b,content:{...null===b||void 0===b?void 0:b.content,source_id:e}})},clearAllCallback:()=>{V({...b,content:{...null===b||void 0===b?void 0:b.content,source_id:[]}})},rootElement:w,children:(0,h.jsx)(T.Z,{text:(0,p.TB)({key:"Search_contentSource",defaultTranslatedValue:r.p.Search.content_source})})}),(0,h.jsx)(s.PrimaryButton,{onClick:()=>{E(null===b||void 0===b?void 0:b.content),A(!0)},className:"edc-navbar-action-btn",text:(0,p.TB)({key:"allFilters",defaultTranslatedValue:r.p.Search.all_filters}),variant:"contained",fillColor:"var(--edc-bg-color-green_primary)"}),(0,h.jsx)(s.AllFiltersModal,{isOpen:I,title:(0,p.TB)({key:"Search_allContentFilters",defaultTranslatedValue:r.p.Search.all_content_filters}),filtersList:[...null!==m&&void 0!==m&&null!==(n=m.standard_type)&&void 0!==n&&n.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,p.TB)({key:"Search_type",defaultTranslatedValue:r.p.Search.type}),options:(0,v.zS)(null===m||void 0===m?void 0:m.standard_type)||[],handleSelectChangeCallback:e=>{M||E({...F,standard_type:e})},selectedValue:(null===F||void 0===F?void 0:F.standard_type)||[]}]:[],...null!==m&&void 0!==m&&null!==(f=m.language)&&void 0!==f&&f.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,p.TB)({key:"Search_languages",defaultTranslatedValue:r.p.Search.languages}),options:null===m||void 0===m?void 0:m.language,handleSelectChangeCallback:e=>{M||E({...F,language:e})},selectedValue:(null===F||void 0===F?void 0:F.language)||[]}]:[],...null!==m&&void 0!==m&&null!==(S=m.source_id)&&void 0!==S&&S.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,p.TB)({key:"Search_contentSource",defaultTranslatedValue:r.p.Search.content_source}),options:null===m||void 0===m?void 0:m.source_id,selectedValue:(null===F||void 0===F?void 0:F.source_id)||[],handleSelectChangeCallback:e=>{M||E({...F,source_id:e})}}]:[],...null!==R&&void 0!==R&&R.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,p.TB)({key:"Search_author",defaultTranslatedValue:r.p.Search.author}),options:R,handleSelectChangeCallback:e=>{M||E({...F,authorData:e})},selectedValue:(null===F||void 0===F?void 0:F.authorData)||[],hasMore:G,serverSearch:!0,handleViewMoreCallback:H,handleInputChangeCallback:e=>{U(e)}}]:[],...null!==m&&void 0!==m&&null!==(x=m.plan)&&void 0!==x&&x.length?[{selectType:"selectFilter",listTitle:(0,p.TB)({key:"contentPricingListing",defaultTranslatedValue:r.p.Search.pricing}),options:null===m||void 0===m?void 0:m.plan,selectedValue:(null===F||void 0===F?void 0:F.plan)||[],handleSelectChangeCallback:e=>{M||E({...F,plan:e})}}]:[],...null!==m&&void 0!==m&&null!==(g=m.duration)&&void 0!==g&&g.length?[{selectType:"selectFilter",listTitle:(0,p.TB)({key:"duration",defaultTranslatedValue:r.p.Search.duration}),options:null===m||void 0===m?void 0:m.duration,selectedValue:(null===F||void 0===F?void 0:F.duration)||[],handleSelectChangeCallback:e=>{M||E({...F,duration:e})}}]:[],...null!==m&&void 0!==m&&null!==(y=m.provider)&&void 0!==y&&y.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,p.TB)({key:"provider",defaultTranslatedValue:r.p.Search.provider}),options:null===m||void 0===m?void 0:m.provider,handleSelectChangeCallback:e=>{M||E({...F,provider:e})},selectedValue:(null===F||void 0===F?void 0:F.provider)||[]}]:[],...null!==m&&void 0!==m&&null!==(_=m.skills)&&void 0!==_&&_.length?[{selectType:"selectFilter",withSearch:!0,listTitle:(0,p.TB)({key:"skillsText",defaultTranslatedValue:r.p.Search.skills}),options:null===m||void 0===m?void 0:m.skills,handleSelectChangeCallback:e=>{M||E({...F,skills:e})},selectedValue:(null===F||void 0===F?void 0:F.skills)||[]}]:[],...null!==m&&void 0!==m&&null!==(k=m.level)&&void 0!==k&&k.length?[{selectType:"selectFilter",listTitle:(0,p.TB)({key:"level",defaultTranslatedValue:r.p.Search.level}),options:null===m||void 0===m?void 0:m.level,selectedValue:(null===F||void 0===F?void 0:F.level)||[],handleSelectChangeCallback:e=>{M||E({...F,level:e})}}]:[]],headerButtons:[{text:(0,p.TB)({key:"cancel",defaultTranslatedValue:r.p.Search.cancel}),cb:()=>{A(!1),L(!0)}},{text:(0,p.TB)({key:"apply",defaultTranslatedValue:r.p.Search.apply}),cb:()=>{V({...b,content:F}),A(!1)}}],searchPlaceholderText:(0,p.TB)({key:"Search_searchHere",defaultTranslatedValue:r.p.Search.search_here}),viewMoreText:(0,p.TB)({key:"viewMore",defaultTranslatedValue:r.p.Search.view_more})})]},C)}))},8936:(e,l,a)=>{a.r(l),a.d(l,{default:()=>j});var t=a(1649),s=a(2143),n=a(3442),o=a(8958),d=a(2856),r=a(5490),c=a(8984),i=a(6019),u=a(599),v=a(7064),p=a(8079),T=a(8170);const h=t.memo((e=>{let{setSelectedNavItem:l}=e;const[a,s]=(0,t.useState)(!0),[n,h]=(0,t.useState)(0),[f,S]=(0,t.useState)(u.zE),{searchText:x}=(0,t.useContext)(i.Z),{orgInfo:g,userInfo:y}=(0,t.useContext)(c.Il),[_,k]=(0,t.useState)(0);(0,t.useEffect)((()=>{m()}),[x]);const C=(0,t.useCallback)((async()=>{const e=await(0,u.uM)({userInfo:y,orgInfo:g}),{searchPageData:l,resultCount:a,contentCount:t}=await(0,u.hC)({eclEnabled:e,searchText:x,userInfo:y,orgInfo:g});S(l),h(a),k(t),s(!1)}),[g,x,y]),m=(0,t.useCallback)((()=>{s(!0),k(0),S(u.zE),C()}),[C]),{CARD:b,USER:V,CHANNEL:B,GROUP:w}=d.default.CAROUSEL_TYPE,{content:I,people:A,channels:F,groups:E}=d.default.SEARCH_TAB,j=[(0,v.TB)({key:"content",defaultTranslatedValue:r.p.Search.content}),(0,v.TB)({key:"Search_contentLibrary",defaultTranslatedValue:r.p.Search.content_library}),(0,v.TB)({key:"channelText",defaultTranslatedValue:r.p.Search.channels}),(0,v.TB)({key:"users",defaultTranslatedValue:r.p.Search.users}),(0,v.TB)({key:"groups",defaultTranslatedValue:r.p.Search.groups})],N=[b,b,B,V,w],M=[I,I,F,A,E],L=f&&Object.keys(f);let R=[];for(const t in L)R=[...R,...f[L[t]]];const O=(0,t.useCallback)(((e,a,t,s)=>(0,T.jsxs)("div",{className:"edc-pb-32",children:[(0,T.jsxs)("div",{className:"edc-search-section-head",children:[(0,T.jsx)("h3",{className:"edc-search-section-title",children:e}),(0,T.jsx)("span",{className:"edc-search-view-all",onClick:()=>l(s),children:t.length>d.default.CAROUSEL_CARD_COUNT||e===(0,v.TB)({key:"content",defaultTranslatedValue:r.p.Search.content})&&_>d.default.CAROUSEL_CARD_COUNT?(0,v.TB)({key:"viewAll",defaultTranslatedValue:r.p.Search.view_all}):null})]}),(0,T.jsx)("div",{className:"edc-search-carousel-container",children:e===(0,v.TB)({key:"content",defaultTranslatedValue:r.p.Search.content})&&_>d.default.CAROUSEL_CARD_COUNT&&0===(null===t||void 0===t?void 0:t.length)?(0,T.jsxs)("div",{className:"edc-search-section-head",style:{display:"flex",justifyContent:"center"},children:[(0,v.TB)({key:"noResultFound",defaultTranslatedValue:r.p.Search.no_result_found}),(0,T.jsx)("span",{className:"edc-search-view-all",style:{marginLeft:"10px"},onClick:()=>l(s),children:(0,v.TB)({key:"viewMore",defaultTranslatedValue:r.p.Search.view_more})})]}):(0,T.jsx)(o.default,{carouselType:a,cards:t})})]})),[_,l]);return(0,T.jsxs)("div",{children:[a?null:(0,u.TB)({searchCount:n,searchTextValue:x}),(0,T.jsxs)("div",{className:"edc-search-result-no-height-container",children:[L&&(null===L||void 0===L?void 0:L.map(((e,l)=>(0,T.jsx)("div",{children:(!(0,p.xb)(f[e])||j[l]===(0,v.TB)({key:"content",defaultTranslatedValue:r.p.Search.content})&&_>d.default.CAROUSEL_CARD_COUNT)&&O(j[l],N[l],f[e],M[l])},e)))),(0,u.qx)({label:(0,v.TB)({key:"waitingCardsLoaderLabel",defaultTranslatedValue:r.p.Search.waiting_cards_loader_label}),data:R,isLoading:a,searchText:x})]})]})}));var f=a(6534),S=a(3838);const x=t.memo((e=>{let{selectedFilters:l,setFilterAggs:a,setSelectedFilters:s}=e;const[n,o]=(0,t.useState)([]),[h,x]=(0,t.useState)(!0),[g,y]=(0,t.useState)(0),[_,k]=(0,t.useState)(0),{userInfo:C}=(0,t.useContext)(c.Il),{searchText:m}=(0,t.useContext)(i.Z),b=(0,t.useCallback)((()=>{var e,a,t;const{channels:s}=l;return{type:(null===s||void 0===s||null===(e=s.type)||void 0===e?void 0:e.map((e=>{let{text:l}=e;return l===(0,v.TB)({key:"private",defaultTranslatedValue:r.p.Search.private})?d.default.PRIVATE:d.default.PUBLIC})))||[],curatorsNames:(null===s||void 0===s||null===(a=s.curators)||void 0===a?void 0:a.map((e=>{let{value:l}=e;return l})))||[],collaboratorsNames:(null===s||void 0===s||null===(t=s.collaborators)||void 0===t?void 0:t.map((e=>{let{value:l}=e;return l})))||[]}}),[l]),V=(0,t.useCallback)((e=>{var l,t,s,n,o,d;const c=(null===e||void 0===e||null===(l=e.collaborators)||void 0===l||null===(t=l.filtered)||void 0===t||null===(s=t.values)||void 0===s?void 0:s.buckets)||[],i=(null===e||void 0===e||null===(n=e.curators)||void 0===n||null===(o=n.filtered)||void 0===o||null===(d=o.values)||void 0===d?void 0:d.buckets)||[];a((e=>(0,p.xb)(null===e||void 0===e?void 0:e.channels)?{...e,channels:{collaborators:null===c||void 0===c?void 0:c.map(((e,l)=>({id:"collab".concat(l),text:"".concat(e.key," (").concat(e.doc_count,")"),value:e.key}))),curators:null===i||void 0===i?void 0:i.map(((e,l)=>({id:"cur".concat(l),text:"".concat(e.key," (").concat(e.doc_count,")"),value:e.key}))),type:[{id:0,text:(0,v.TB)({key:"private",defaultTranslatedValue:r.p.Search.private})},{id:1,text:(0,v.TB)({key:"public",defaultTranslatedValue:r.p.Search.public})}]}}:e))}),[a]),B=(0,t.useCallback)((async e=>{const l=b(),a=e;x(!0);const{channelsData:t,channelsCount:s,aggs:n}=await(0,u.LU)({userInfo:C,searchText:m,limit:d.default.LIMIT,offset:a,payload:l});k(s),o((e=>0===a?t:[...e,...t])),y(a+d.default.LIMIT),x(!1),V(n)}),[V,b,m,C]);return(0,t.useEffect)((()=>{o([]),B(0)}),[B]),(0,T.jsxs)("div",{children:[(0,u.TB)({searchCount:_,searchTextValue:m}),(0,u.Su)({filters:l.channels,removeFilterById:e=>{const a=(0,u.lE)({filterId:e,selectedFilters:l});s(a)},onClearAllFilters:()=>s({...l,channels:{}})}),(0,T.jsxs)("div",{className:"edc-view-all-no-height-container",children:[(0,p.xb)(n)?null:null===n||void 0===n?void 0:n.map((e=>(0,T.jsx)(f.default,{channel:e},e.id))),(0,u.qx)({label:(0,v.TB)({key:"waitingChannelsLabel",defaultTranslatedValue:r.p.Search.waiting_channels_label}),data:n,isLoading:h,searchText:m})]}),!h&&_>g?(0,T.jsx)(S.Z,{onClick:()=>{B(g)}}):null]})}));var g=a(24),y=a(5338),_=a(8411);const k=t.memo((e=>{var l,a;let{selectedFilters:s={},filterAggs:n,setFilterAggs:o,setSelectedFilters:h}=e;const[f,x]=(0,t.useState)([]),[k,C]=(0,t.useState)(!0),[m,b]=(0,t.useState)(0),[V,B]=(0,t.useState)(0),[w,I]=(0,t.useState)(),[A,F]=(0,t.useState)(!1),{userInfo:E,orgInfo:j}=(0,t.useContext)(c.Il),{searchText:N}=(0,t.useContext)(i.Z),M=(0,_.c3)(j),L=null===M||void 0===M||null===(l=M.web)||void 0===l?void 0:l.labels,R=(0,t.useCallback)((async()=>{const e=await(0,u.uM)({userInfo:E,orgInfo:j});I(!!e),F(!0),e&&h((e=>({...e,content:{standard_type:[{id:d.default.CONTENT_LIBRARY,text:d.default.CONTENT_LIBRARY}]}})))}),[j,h,E]),O=(0,t.useMemo)((()=>(0,y.E1)({myCustomLevels:L})),[L]),G=(0,t.useMemo)((()=>{var e;return(0,y.b5)({skillLabels:O,proficiencyLevels:null===j||void 0===j?void 0:j.proficiencyLevels,selectedLanguage:(null===E||void 0===E||null===(e=E.profile)||void 0===e?void 0:e.language)||"en",includeNoLevel:!1})}),[null===j||void 0===j?void 0:j.proficiencyLevels,O,null===E||void 0===E||null===(a=E.profile)||void 0===a?void 0:a.language]),[P,D]=(0,t.useState)(),U=(0,t.useCallback)((async e=>{let{languageFilterAggs:l,aggs:a,eclEnabled:t}=e;if(!(0,p.xb)(l))return;const s=await(0,u.Im)({aggs:a,filterAggs:{},userInfo:E,orgInfo:j,eclEnabled:t,proficiencySkillLevels:G});o((e=>({...e,...s})))}),[j,G,o,E]);(0,t.useEffect)((()=>{[w,P].includes(void 0)||U({languageFilterAggs:n.content.language,aggs:P,eclEnabled:w})}),[P,n.content.language,U,w]);const Z=(0,t.useCallback)((async e=>{var l,a;C(!0);const t=(0,u.hw)({content:null===s||void 0===s?void 0:s.content}),n=e,{internalCards:o,internalCardsCount:r,aggs:c}=await(0,u.xU)({userInfo:E,orgInfo:j,searchText:N,limit:d.default.LIMIT,offset:n,payload:t}),{openCards:i,openCardsCount:v}=w?await(0,u.m0)({userInfo:E,orgInfo:j,searchText:N,limit:d.default.LIMIT,offset:n,payload:(null===t||void 0===t?void 0:t.standard_type)||[]}):{openCards:[],openCardsCount:0},p=(null===s||void 0===s||null===(l=s.content)||void 0===l||null===(a=l.standard_type)||void 0===a?void 0:a.filter((e=>{let{id:l}=e;return l===d.default.CONTENT_LIBRARY})))||[],T=p.length?[...o,...i]:o,h=p.length?r+v:r;b((e=>0===n?h:e)),x((e=>0===n?T:[...e,...T])),C(!1),B(n+d.default.LIMIT),D(c)}),[j,N,E,null===s||void 0===s?void 0:s.content,w]);return(0,t.useEffect)((()=>{A&&(x([]),Z(0))}),[Z,A,s]),(0,t.useEffect)((()=>{R()}),[R]),(0,T.jsxs)("div",{children:[(0,u.TB)({searchCount:m,searchTextValue:N}),(0,u.Su)({filters:null===s||void 0===s?void 0:s.content,removeFilterById:e=>{const l=(0,u.Zu)({filterId:e,selectedFilters:s});h(l)},onClearAllFilters:()=>h({...s,content:{}})}),(0,T.jsxs)("div",{className:"edc-view-all-no-height-container",children:[!(0,p.xb)(f)&&(null===f||void 0===f?void 0:f.map(((e,l)=>{var a;return(0,T.jsx)(g.default,{cardData:e},null!==(a=null===e||void 0===e?void 0:e.id)&&void 0!==a?a:l)}))),(0,u.qx)({label:(0,v.TB)({key:"waitingCardsLoaderLabel",defaultTranslatedValue:r.p.Search.waiting_cards_loader_label}),data:f,isLoading:k,searchText:N,hideNoResultMessage:m>V}),!k&&m>V?(0,T.jsx)(S.Z,{onClick:()=>{Z(V)}}):null]})]})}));var C=a(843);const m=t.memo((e=>{let{selectedFilters:l,setFilterAggs:a,setSelectedFilters:s}=e;const[n,o]=(0,t.useState)([]),[h,f]=(0,t.useState)(0),[x,g]=(0,t.useState)(!0),[y,_]=(0,t.useState)(0),{searchText:k}=(0,t.useContext)(i.Z),{userInfo:m}=(0,t.useContext)(c.Il),b=(0,t.useCallback)((e=>{var l,a,t;let{selectedGroups:s}=e;return{type:(null===s||void 0===s||null===(l=s.type)||void 0===l?void 0:l.map((e=>{let{text:l}=e;return l===(0,v.TB)({key:"private",defaultTranslatedValue:r.p.Search.private})?d.default.PRIVATE:d.default.PUBLIC})))||[],leaders:(null===s||void 0===s||null===(a=s.leaders)||void 0===a?void 0:a.map((e=>{let{value:l}=e;return l})))||[],admins:(null===s||void 0===s||null===(t=s.admins)||void 0===t?void 0:t.map((e=>{let{value:l}=e;return l})))||[]}}),[]),V=(0,t.useCallback)((e=>{a((l=>{if((0,p.xb)(null===l||void 0===l?void 0:l.groups)){var a,t,s,n,o,d;const c=(null===e||void 0===e||null===(a=e.admins)||void 0===a||null===(t=a.filtered)||void 0===t||null===(s=t.values)||void 0===s?void 0:s.buckets)||[],i=(null===e||void 0===e||null===(n=e.leaders)||void 0===n||null===(o=n.filtered)||void 0===o||null===(d=o.values)||void 0===d?void 0:d.buckets)||[];return{...l,groups:{admins:null===c||void 0===c?void 0:c.map(((e,l)=>({id:"admins".concat(l),text:"".concat(e.key," (").concat(e.doc_count,")"),value:e.key}))),leaders:null===i||void 0===i?void 0:i.map(((e,l)=>({id:"leaders".concat(l),text:"".concat(e.key," (").concat(e.doc_count,")"),value:e.key}))),type:[{id:0,text:(0,v.TB)({key:"private",defaultTranslatedValue:r.p.Search.private})},{id:1,text:(0,v.TB)({key:"open",defaultTranslatedValue:r.p.Search.open})}]}}}return l}))}),[a]),B=(0,t.useCallback)((async e=>{let{offset:a}=e;const t=b({selectedGroups:null===l||void 0===l?void 0:l.groups}),s=a;g(!0);const{groupsData:n,groupsCount:r,aggs:c}=await(0,u.pW)({userInfo:m,searchText:k,limit:d.default.LIMIT,offset:s,payload:t});_(r),o((e=>0===s?n:[...e,...n])),f(a+(null===d.default||void 0===d.default?void 0:d.default.LIMIT)),g(!1),V(c)}),[b,null===l||void 0===l?void 0:l.groups,m,k,V]);(0,t.useEffect)((()=>{o([]),B({offset:0})}),[B]);const w=(0,t.useCallback)((()=>s((e=>({...e,groups:{}})))),[s]),I=(0,t.useCallback)((e=>{s((l=>(0,u.nV)({filterId:e,selectedFilters:l})))}),[s]),A=(0,t.useCallback)((()=>B({offset:h})),[B,h]);return(0,T.jsxs)("div",{children:[(0,u.TB)({searchCount:y,searchTextValue:k}),(0,u.Su)({filters:null===l||void 0===l?void 0:l.groups,removeFilterById:I,onClearAllFilters:w}),(0,T.jsxs)("div",{className:"edc-view-all-no-height-container",children:[!(0,p.xb)(n)&&(null===n||void 0===n?void 0:n.map((e=>(0,T.jsx)(C.default,{group:e},null===e||void 0===e?void 0:e.id)))),(0,u.qx)({label:(0,v.TB)({key:"waitingGroupLabel",defaultTranslatedValue:r.p.Search.waiting_group_label}),data:n,isLoading:x,searchText:k}),!x&&y>h?(0,T.jsx)(S.Z,{onClick:A}):null]})]})}));var b=a(6554);const V=t.memo((e=>{let{setFilterAggs:l,selectedFilters:a={},setSelectedFilters:s}=e;const{userInfo:n}=(0,t.useContext)(c.Il),{searchText:o}=(0,t.useContext)(i.Z),[h,f]=(0,t.useState)([]),[x,g]=(0,t.useState)(!0),[y,_]=(0,t.useState)(0),[k,C]=(0,t.useState)(0),m=(0,t.useCallback)((async e=>{const t=(0,u.AS)({users:null===a||void 0===a?void 0:a.users}),s=e;g(!0);const{usersData:r,usersCount:c,aggs:i}=await(0,u.Kh)({userInfo:n,searchText:o,limit:d.default.LIMIT,offset:e,payload:t});C(c),f((e=>0===s?r:[...e,...r])),_(s+d.default.LIMIT),g(!1);const v=(0,u.yz)({aggs:i});l((e=>({...e,...v})))}),[null===a||void 0===a?void 0:a.users,n,o,l]);return(0,t.useEffect)((()=>{f([]),m(0)}),[m]),(0,T.jsxs)("div",{children:[(0,u.TB)({searchCount:k,searchTextValue:o}),(0,u.Su)({filters:null===a||void 0===a?void 0:a.users,removeFilterById:e=>{const l=(0,u.eW)({filterId:e,selectedFilters:a});s(l)},onClearAllFilters:()=>s({...a,users:{}})}),(0,T.jsxs)("div",{className:"edc-view-all-no-height-container",children:[(0,p.xb)(h)?null:null===h||void 0===h?void 0:h.map((e=>(0,T.jsx)(b.default,{user:e},e.id))),(0,u.qx)({label:(0,v.TB)({key:"Search_waitingUsersLoaderLabel",defaultTranslatedValue:r.p.Search.waiting_users_loader_label}),data:h,isLoading:x,searchText:o}),!x&&k>y?(0,T.jsx)(S.Z,{onClick:()=>m(y)}):null]})]})}));var B=a(9467),w=a(2488);const I=t.memo((e=>{var l,a;let{id:n,options:o,selectedFilters:d,setSelectedFilters:i}=e;const{rootElement:u}=(0,t.useContext)(c.Il),[p,h]=(0,t.useState)(!1),[f,S]=(0,t.useState)({}),[x,g]=(0,t.useState)(!0);(0,t.useEffect)((()=>{g(!p)}),[p]);const y=(0,t.useCallback)((e=>{i((l=>({...l,channels:{...e}})))}),[i]),_=(0,t.useCallback)((e=>{x||S((l=>({...l,...e})))}),[x]),k=(0,t.useMemo)((()=>[{selectType:"selectFilter",withSearch:!0,listTitle:(0,v.TB)({key:"collaboratorsText",defaultTranslatedValue:r.p.Search.collaborators}),options:(null===o||void 0===o?void 0:o.collaborators)||[],handleSelectChangeCallback:e=>{_({collaborators:e})},selectedValue:(null===f||void 0===f?void 0:f.collaborators)||[]},{selectType:"selectFilter",withSearch:!0,listTitle:(0,v.TB)({key:"curators",defaultTranslatedValue:r.p.Search.curators}),options:(null===o||void 0===o?void 0:o.curators)||[],handleSelectChangeCallback:e=>{_({curators:e})},selectedValue:(null===f||void 0===f?void 0:f.curators)||[]},{selectType:"selectFilter",listTitle:(0,v.TB)({key:"Search_type",defaultTranslatedValue:r.p.Search.type}),options:(null===o||void 0===o?void 0:o.type)||[],selectedValue:(null===f||void 0===f?void 0:f.type)||[],handleSelectChangeCallback:e=>{_({type:e})}}]),[f.collaborators,f.curators,f.type,_,null===o||void 0===o?void 0:o.collaborators,null===o||void 0===o?void 0:o.curators,null===o||void 0===o?void 0:o.type]),C=(0,t.useMemo)((()=>[{text:(0,v.TB)({key:"cancel",defaultTranslatedValue:r.p.Search.cancel}),cb:()=>{h(!1)}},{text:(0,v.TB)({key:"apply",defaultTranslatedValue:r.p.Search.apply}),cb:()=>{i({...d,channels:f}),h(!1)}}]),[f,d,i]);return(0,T.jsxs)("div",{className:"edc-search-filter-container",children:[(0,T.jsx)(s.InputDialogSelect,{options:(null===o||void 0===o?void 0:o.type)||[],selectedValue:(null===d||void 0===d||null===(l=d.channels)||void 0===l?void 0:l.type)||[],onSelect:e=>{y({...d.channels,type:e})},clearAllText:(0,v.TB)({key:"Search_clearAllText",defaultTranslatedValue:r.p.Search.clear_all_text}),cancelText:(0,v.TB)({key:"cancel",defaultTranslatedValue:r.p.Search.cancel_text}),selectAllText:(0,v.TB)({key:"selectAll",defaultTranslatedValue:r.p.Search.select_all_text}),selectedText:(0,v.TB)({key:"selected",defaultTranslatedValue:r.p.Search.selected_text}),buttonText:(0,v.TB)({key:"select",defaultTranslatedValue:r.p.Search.select}),clearAllCallback:()=>{y({...d.channels,type:[]})},rootElement:u,children:(0,T.jsx)(w.Z,{text:(0,v.TB)({key:"Search_type",defaultTranslatedValue:r.p.Search.type})})}),(0,T.jsx)(s.InputDialogSelect,{withSearch:!0,options:(null===o||void 0===o?void 0:o.curators)||[],selectedValue:(null===d||void 0===d||null===(a=d.channels)||void 0===a?void 0:a.curators)||[],onSelect:e=>{y({...d.channels,curators:e})},clearAllText:(0,v.TB)({key:"Search_clearAllText",defaultTranslatedValue:r.p.Search.clear_all_text}),cancelText:(0,v.TB)({key:"cancel",defaultTranslatedValue:r.p.Search.cancel_text}),selectAllText:(0,v.TB)({key:"selectAll",defaultTranslatedValue:r.p.Search.select_all_text}),selectedText:(0,v.TB)({key:"selected",defaultTranslatedValue:r.p.Search.selected_text}),buttonText:(0,v.TB)({key:"select",defaultTranslatedValue:r.p.Search.select}),clearAllCallback:()=>{y({...d.channels,curators:[]})},rootElement:u,children:(0,T.jsx)(w.Z,{text:(0,v.TB)({key:"curators",defaultTranslatedValue:r.p.Search.curators})})}),(0,T.jsx)(s.PrimaryButton,{onClick:()=>{S(d.channels),h(!0)},className:"edc-navbar-action-btn",text:(0,v.TB)({key:"allFilters",defaultTranslatedValue:r.p.Search.all_filters}),variant:"contained",fillColor:"var(--edc-bg-color-green_primary)"}),(0,T.jsx)(s.AllFiltersModal,{isOpen:p,title:(0,v.TB)({key:"Search_allChannelsFilter",defaultTranslatedValue:r.p.Search.all_channels_filter}),filtersList:k,headerButtons:C,searchPlaceholderText:(0,v.TB)({key:"Search_searchHere",defaultTranslatedValue:r.p.Search.search_here}),viewMoreText:(0,v.TB)({key:"viewMore",defaultTranslatedValue:r.p.Search.view_more})})]},n)}));var A=a(7846);const F=t.memo((e=>{var l;let{id:a,options:n,selectedFilters:o,setSelectedFilters:d}=e;const{rootElement:i}=(0,t.useContext)(c.Il),[u,p]=(0,t.useState)(!1),[h,f]=(0,t.useState)({}),[S,x]=(0,t.useState)(!0);(0,t.useEffect)((()=>{x(!u)}),[u]);const g=(0,t.useCallback)((()=>{d((e=>({...e,groups:{...e.groups,type:[]}})))}),[d]),y=(0,t.useCallback)((e=>{d((l=>({...l,groups:{...l.groups,type:e}})))}),[d]),_=(0,t.useCallback)((()=>{f(o.groups),p(!0)}),[o.groups]),k=(0,t.useCallback)((e=>{let{firstRenderForInputSelect:l,filter:a}=e;l||f((e=>({...e,...a})))}),[]),C=(0,t.useMemo)((()=>[{selectType:"selectFilter",withSearch:!0,listTitle:(0,v.TB)({key:"Search_leaders",defaultTranslatedValue:r.p.Search.leaders}),options:(null===n||void 0===n?void 0:n.leaders)||[],handleSelectChangeCallback:e=>k({firstRenderForInputSelect:S,filter:{leaders:e}}),selectedValue:h.leaders},{selectType:"selectFilter",withSearch:!0,listTitle:(0,v.TB)({key:"Search_admins",defaultTranslatedValue:r.p.Search.admins}),options:(null===n||void 0===n?void 0:n.admins)||[],handleSelectChangeCallback:e=>k({firstRenderForInputSelect:S,filter:{admins:e}}),selectedValue:h.admins},{selectType:"selectFilter",listTitle:(0,v.TB)({key:"Search_type",defaultTranslatedValue:r.p.Search.type}),options:(null===n||void 0===n?void 0:n.type)||[],selectedValue:h.type,handleSelectChangeCallback:e=>k({firstRenderForInputSelect:S,filter:{type:e}})}]),[k,S,null===n||void 0===n?void 0:n.admins,null===n||void 0===n?void 0:n.leaders,null===n||void 0===n?void 0:n.type,h.admins,h.leaders,h.type]),m=(0,t.useMemo)((()=>[{text:(0,v.TB)({key:"cancel",defaultTranslatedValue:r.p.Search.cancel}),cb:()=>{p(!1)}},{text:(0,v.TB)({key:"apply",defaultTranslatedValue:r.p.Search.apply}),cb:()=>{d({...o,groups:h}),p(!1)}}]),[o,d,h]);return(0,T.jsxs)("div",{className:"edc-search-filter-container",children:[(0,T.jsx)(s.InputDialogSelect,{options:(null===n||void 0===n?void 0:n.type)||[],selectedValue:(null===o||void 0===o||null===(l=o.groups)||void 0===l?void 0:l.type)||[],onSelect:y,clearAllText:(0,v.TB)({key:"Search_clearAllText",defaultTranslatedValue:r.p.Search.clear_all_text}),cancelText:(0,v.TB)({key:"cancel",defaultTranslatedValue:r.p.Search.cancel_text}),selectAllText:(0,v.TB)({key:"selectAll",defaultTranslatedValue:r.p.Search.select_all_text}),selectedText:(0,v.TB)({key:"selected",defaultTranslatedValue:r.p.Search.selected_text}),buttonText:(0,v.TB)({key:"select",defaultTranslatedValue:r.p.Search.select}),clearAllCallback:g,rootElement:i,children:(0,T.jsx)(w.Z,{text:(0,v.TB)({key:"Search_type",defaultTranslatedValue:r.p.Search.type})})}),(0,T.jsx)(s.PrimaryButton,{onClick:_,className:"edc-navbar-action-btn",text:(0,v.TB)({key:"allFilters",defaultTranslatedValue:r.p.Search.all_filters}),variant:"contained",fillColor:"var(--edc-bg-color-green_primary)"}),(0,T.jsx)(s.AllFiltersModal,{isOpen:u,title:(0,v.TB)({key:"Search_allGroupsFilter",defaultTranslatedValue:r.p.Search.all_groups_filter}),filtersList:C,headerButtons:m,searchPlaceholderText:(0,v.TB)({key:"Search_searchHere",defaultTranslatedValue:r.p.Search.search_here}),viewMoreText:(0,v.TB)({key:"viewMore",defaultTranslatedValue:r.p.Search.view_more})})]},a)})),E=e=>{var l;let{id:a,options:n,selectedFilters:o,setSelectedFilters:d}=e;const{rootElement:i}=(0,t.useContext)(c.Il),[u,h]=(0,t.useState)(!1),[f,S]=(0,t.useState)({}),[x,g]=(0,t.useState)(!0),y=(0,t.useCallback)((e=>{d((l=>({...l,users:{...o.users,categories:e}})))}),[o,d]),_=(0,t.useCallback)((()=>{d((e=>({...e,users:{...e.users,categories:[]}})))}),[d]),k=(0,t.useMemo)((()=>[...(0,p.xb)(null===n||void 0===n?void 0:n.expertises_names)?[]:[{selectType:"selectFilter",withSearch:!0,listTitle:(0,v.TB)({key:"skillsText",defaultTranslatedValue:r.p.Search.skills}),options:(null===n||void 0===n?void 0:n.expertises_names)||[],handleSelectChangeCallback:e=>{x||S((l=>({...l,expertises_names:e})))},selectedValue:f.expertises_names}],{selectedValue:f.categories,selectType:"selectFilter",listTitle:(0,v.TB)({key:"Search_categories",defaultTranslatedValue:r.p.Search.categories}),options:(null===n||void 0===n?void 0:n.categories)||[],handleSelectChangeCallback:e=>{x||S((l=>({...l,categories:e})))}}]),[f.categories,f.expertises_names,x,null===n||void 0===n?void 0:n.categories,null===n||void 0===n?void 0:n.expertises_names]);return(0,t.useEffect)((()=>{g(!u)}),[u]),(0,T.jsxs)("div",{className:"edc-search-filter-container",children:[(0,T.jsx)(s.InputDialogSelect,{options:(null===n||void 0===n?void 0:n.categories)||[],selectedValue:(null===o||void 0===o||null===(l=o.users)||void 0===l?void 0:l.categories)||[],onSelect:y,clearAllText:(0,v.TB)({key:"Search_clearAllText",defaultTranslatedValue:r.p.Search.clear_all_text}),cancelText:(0,v.TB)({key:"cancel",defaultTranslatedValue:r.p.Search.cancel_text}),selectAllText:(0,v.TB)({key:"selectAll",defaultTranslatedValue:r.p.Search.select_all_text}),selectedText:(0,v.TB)({key:"selected",defaultTranslatedValue:r.p.Search.selected_text}),buttonText:(0,v.TB)({key:"select",defaultTranslatedValue:r.p.Search.select}),clearAllCallback:_,rootElement:i,children:(0,T.jsx)(w.Z,{text:(0,v.TB)({key:"Search_categories",defaultTranslatedValue:r.p.Search.categories})})}),(0,T.jsx)(s.PrimaryButton,{onClick:()=>{S(o.users),h(!0)},className:"edc-navbar-action-btn",text:(0,v.TB)({key:"allFilters",defaultTranslatedValue:r.p.Search.all_filters}),variant:"contained",fillColor:"var(--edc-bg-color-green_primary)"}),(0,T.jsx)(s.AllFiltersModal,{isOpen:u,title:(0,v.TB)({key:"Search_allPeopleFilter",defaultTranslatedValue:r.p.Search.all_people_filter}),filtersList:k,headerButtons:[{text:(0,v.TB)({key:"cancel",defaultTranslatedValue:r.p.Search.cancel}),cb:()=>{h(!1)}},{text:(0,v.TB)({key:"apply",defaultTranslatedValue:r.p.Search.apply}),cb:()=>{d((e=>({...e,users:f}))),h(!1)}}],searchPlaceholderText:(0,v.TB)({key:"Search_searchHere",defaultTranslatedValue:r.p.Search.search_here}),viewMoreText:(0,v.TB)({key:"viewMore",defaultTranslatedValue:r.p.Search.view_more})})]},a)},j=t.memo((()=>{const e=(0,t.useMemo)((()=>d.default.SEARCH_PAGE_INITIAL_FILTER_AGGS),[]),[l,a]=(0,t.useState)(e),[o,r]=(0,t.useState)(e),[v,f]=(0,t.useState)(d.default.SEARCH_TAB.all),S=(0,n.s0)(),{searchText:g}=(0,t.useContext)(i.Z),{orgInfo:y}=(0,t.useContext)(c.Il),{tab:_}=(0,n.UO)();(0,t.useEffect)((()=>{(null===_||void 0===_?void 0:_.length)>0?f(_):f(d.default.SEARCH_TAB.all),a(e),r(e)}),[e,g,_]);const C=(0,t.useMemo)((()=>{var e,a,t,s,n;const d=new Date;return{content:(0,p.xb)(null===l||void 0===l||null===(e=l.content)||void 0===e?void 0:e.standard_type)?"":(0,T.jsx)(A.Z,{id:d.getTime(),options:l.content,selectedFilters:o,setSelectedFilters:r}),groups:(0,p.xb)(null===l||void 0===l||null===(a=l.groups)||void 0===a?void 0:a.leaders)?"":(0,T.jsx)(F,{id:d.getTime(),options:l.groups,selectedFilters:o,setSelectedFilters:r}),channels:(0,p.xb)(null===l||void 0===l||null===(t=l.channels)||void 0===t?void 0:t.curators)?"":(0,T.jsx)(I,{id:d.getTime(),options:l.channels,selectedFilters:o,setSelectedFilters:r}),people:(0,p.xb)(null===l||void 0===l||null===(s=l.users)||void 0===s?void 0:s.expertises_names)&&(0,p.xb)(null===l||void 0===l||null===(n=l.users)||void 0===n?void 0:n.categories)?"":(0,T.jsx)(E,{id:d.getTime(),options:l.users,selectedFilters:o,setSelectedFilters:r})}}),[l.channels,l.content,l.groups,l.users,o]),b=(0,t.useCallback)((()=>{switch(v){case d.default.SEARCH_TAB.all:return(0,T.jsx)(h,{selectedNavItem:v,setSelectedNavItem:f});case d.default.SEARCH_TAB.channels:return(0,T.jsx)(x,{filterAggs:l,setFilterAggs:a,selectedFilters:o,setSelectedFilters:r});case d.default.SEARCH_TAB.people:return(0,T.jsx)(V,{setFilterAggs:a,selectedFilters:o,setSelectedFilters:r});case d.default.SEARCH_TAB.content:return(0,T.jsx)(k,{filterAggs:l,setFilterAggs:a,selectedFilters:o,setSelectedFilters:r},d.default.SEARCH_TAB.content);case d.default.SEARCH_TAB.groups:return(0,T.jsx)(m,{setFilterAggs:a,selectedFilters:o,setSelectedFilters:r});default:return(0,T.jsx)(h,{selectedNavItem:v,setSelectedNavItem:f})}}),[l,o,v]);return(0,T.jsx)(t.Fragment,{children:(0,T.jsxs)("div",{className:"edc-search-result-view-header-container",children:[(0,T.jsxs)("div",{className:"edc-search-result-view-header-nav",children:[(0,T.jsx)("div",{className:"edc-back-section",children:(0,T.jsx)(B.Z,{goBack:()=>S(-1)})}),(0,T.jsx)("div",{className:"edc-search-result-sub-navigation",children:(0,T.jsx)(s.NavWithActionButtons,{childrenArray:(0,u.rT)({orgInfo:y}),actionButtons:C[v],handleSelectedNavItemChange:e=>{f(e)},selectedNavItem:v})})]}),b()]})})}))}}]);