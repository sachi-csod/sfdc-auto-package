"use strict";(self.webpackChunkedc_widgets_sfdc=self.webpackChunkedc_widgets_sfdc||[]).push([[304],{9467:(i,e,a)=>{a.d(e,{Z:()=>c});a(1649);var t=a(2143),n=a(3442),l=a(5490),d=a(7064),o=a(8170);const c=i=>{let{goBack:e}=i;const a=(0,n.s0)();return(0,o.jsx)("div",{className:"edc-position-relative edc-back-button",children:(0,o.jsxs)("div",{onClick:()=>{"function"!==typeof e?a(-1):e()},className:"edc-d-flex edc-pointer edc-align-items-center edc-gap-one-fourth edc-back-button-icon-and-text",children:[(0,o.jsx)("span",{className:"edc-d-inline-flex",children:(0,o.jsx)(t.ArrowBackwardIcon,{width:10,height:20})}),(0,o.jsx)("span",{children:(0,d.TB)({key:"back",defaultTranslatedValue:l.p.Search.back})})]})})}},3838:(i,e,a)=>{a.d(e,{Z:()=>o});a(1649);var t=a(2143),n=a(5490),l=a(7064),d=a(8170);const o=i=>{let{onClick:e=(()=>{})}=i;return(0,d.jsx)("div",{className:"edc-view-more-btn-container",children:(0,d.jsx)(t.PrimaryButton,{fillColor:"#ffffff",onClick:e,text:(0,l.IQ)({key:"viewMore",defaultTranslatedValue:n.p.Notification.view_more}),variant:"outlined"})})}},2843:(i,e,a)=>{a.r(e),a.d(e,{default:()=>x});var t=a(1649),n=a(2143),l=a(3442),d=a(9467),o=a(3838),c=a(2856),s=a(5490),u=a(7541),r=a(8125),f=a(8069),v=a(4959),h=a(7064),k=a(8170);const x=()=>{const[i,e]=(0,t.useState)(!1),[a,x]=(0,t.useState)([]),[m,p]=(0,t.useState)(c.default.OFFSET),[N,g]=(0,t.useState)(!1),j=(0,l.s0)(),I=(0,t.useContext)(u.Z),T=(0,t.useCallback)((async i=>{var a;e(!0);const[t,n]=await(0,r.OS)({limit:c.default.SLIDER_LIMIT,offset:i});n||(null!==t&&void 0!==t&&null!==(a=t.notifications)&&void 0!==a&&a.length?(x((i=>[...i,...t.notifications])),p((i=>i+c.default.SLIDER_LIMIT)),g(t.notifications.length===c.default.SLIDER_LIMIT)):g(!1)),e(!1)}),[]),_=(0,t.useCallback)((i=>{(0,r.Yi)(i.id);const e=(0,f.$)(i);j(e)}),[j]);(0,t.useEffect)((()=>{T()}),[T]);const b=(0,t.useCallback)((i=>{var e;j("".concat(c.default.PAGES.USER_PROFILE,"/").concat(null!==(e=null===i||void 0===i?void 0:i.id)&&void 0!==e?e:null===i||void 0===i?void 0:i.handle))}),[j]);return(0,k.jsxs)("div",{className:"edc-card-notify",children:[(0,k.jsx)(d.Z,{}),(0,k.jsxs)("div",{className:"edc-view-notify",children:[(0,k.jsx)("p",{className:"edc-notification-title",children:(0,h.IQ)({key:"Notification_notification",defaultTranslatedValue:s.p.Notification.notification})}),(0,k.jsx)("p",{className:"edc-notification-heading",children:(0,h.IQ)({key:"Notification_notificationHeading",defaultTranslatedValue:s.p.Notification.notification_heading})})]}),(0,k.jsx)("div",{children:null===a||void 0===a?void 0:a.map(((i,e)=>{var a,t,l,d,o;return(0,k.jsx)("div",{className:"edc-notification-card",children:(0,k.jsx)(n.NotificationItem,{variant:"large",dateTime:(0,f.Q)({dateTime:null===i||void 0===i?void 0:i.createdAt}),dueDate:null!==i&&void 0!==i&&i.dueDate?I(null===i||void 0===i?void 0:i.dueDate).format("DD MMM YYYY"):null,isNew:null===i||void 0===i?void 0:i.unseen,messageText:null===i||void 0===i?void 0:i.message,user:{id:null===i||void 0===i||null===(t=i.users[0])||void 0===t?void 0:t.id,img:(0,v.HK)(null===i||void 0===i?void 0:i.users[0]),handle:null!==(l=null===i||void 0===i||null===(d=i.users[0])||void 0===d?void 0:d.handle)&&void 0!==l?l:null===i||void 0===i||null===(o=i.users[0])||void 0===o?void 0:o.id},onClick:_,callbackValue:i,avatarOnClick:b,dueDateLabelText:(0,h.IQ)({key:"dueDate",defaultTranslatedValue:s.p.Notification.due_date})})},null!==(a=null===i||void 0===i?void 0:i.id)&&void 0!==a?a:e)}))}),i&&(0,k.jsx)(n.Spinner,{spinnerMessage:(0,h.IQ)({key:"Notification_loadingNotifications",defaultTranslatedValue:s.p.Notification.loading_notifications})}),!i&&N?(0,k.jsx)(o.Z,{onClick:()=>T(m)}):null]})}}}]);