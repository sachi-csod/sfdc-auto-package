"use strict";(self.webpackChunkedc_widgets_sfdc=self.webpackChunkedc_widgets_sfdc||[]).push([[683],{9923:(e,t,a)=>{a.d(t,{K2:()=>f,c5:()=>T,b0:()=>_,bT:()=>S,jf:()=>s,lV:()=>d,PY:()=>E,yB:()=>R,AO:()=>O,qF:()=>C,ZE:()=>A,Wk:()=>D,AZ:()=>v,db:()=>U,Do:()=>m,h3:()=>i,lT:()=>I,mB:()=>c});a(1649);var l=a(8079),n=a(2856),o=a(744),u=a(5523);var r=a(8170);const i=e=>{var t,a,l,o;let u=null===e||void 0===e?void 0:e.find((e=>(null===e||void 0===e?void 0:e.name)===n.default.ORG_CONFIG.ORG_CUSTOMIZATION_CONFIG));return u=!(u&&(null===(t=u)||void 0===t||null===(a=t.value)||void 0===a||null===(l=a.web)||void 0===l||null===(o=l.topMenu["web/topMenu/discover"])||void 0===o||!o.visible)),u},c=e=>{var t;let a=(e=>{let t=null===e||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.name)===n.default.ORG_CONFIG.ORG_CUSTOMIZATION_CONFIG)),a={};if((null===t||void 0===t?void 0:t.length)>0){var l,o,u,r;a=null!==(l=null===(o=t[0])||void 0===o||null===(u=o.value)||void 0===u?void 0:u.discover)&&void 0!==l?l:{};const e=null===(r=Object.keys(a))||void 0===r?void 0:r.filter((e=>{var t;return!1===(null===(t=a[e])||void 0===t?void 0:t.visible)}));null===e||void 0===e||e.forEach((e=>{delete a[e]}))}return a})(e),l=[];return null===(t=Object.keys(a))||void 0===t||t.forEach((e=>{var t;let n=null!==(t=a[e])&&void 0!==t?t:{};n.carouselType=e,l.push(n)})),l.sort(((e,t)=>e.index-t.index)),{enabledCarouselList:l,discoverConfig:a}},d=function(){var e,t,a;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{defaultCarousel:null===(e=Object.keys(l))||void 0===e?void 0:e.filter((e=>{var t;return 2===(null===e||void 0===e||null===(t=e.split("/"))||void 0===t?void 0:t.length)})),instanceCarousel:null===(t=Object.keys(l))||void 0===t?void 0:t.filter((e=>{var t;return 3===(null===e||void 0===e||null===(t=e.split("/"))||void 0===t?void 0:t.length)})),customCarousel:null===(a=Object.keys(l))||void 0===a?void 0:a.filter((e=>{var t;return 5===(null===e||void 0===e||null===(t=e.split("/"))||void 0===t?void 0:t.length)}))}};function s(e,t,a){var o,u;let r,i=t&&(null===t||void 0===t?void 0:t.configs)&&t.configs.filter((e=>e.name===n.default.DEFAULT_LANGUAGE_KEY)),c=i&&(null===i||void 0===i?void 0:i.length)>0&&i[0].value,d=a&&(null===a||void 0===a?void 0:a.profile)&&(null===a||void 0===a||null===(o=a.profile)||void 0===o?void 0:o.language)||c||n.default.DEFAULT_LANGUAGE;const s=e.label?e.label:e.defaultLabel,E=t&&(0,l.mj)(t.languages)||n.default.LANGUAGE_NAMES;return r=e.languages&&e.languages[null===(u=E[d])||void 0===u?void 0:u.toLowerCase()]||s,r}const E=e=>{let t,{data:a,carousel:o,carouselTypeSplitArray:u,carouselTypeSplitArrayLength:i}=e,c=u[i-1],d=a;if(2===i)switch(c){case n.default.DISCOVER_TAB.FEATURED_PROVIDERS:t=n.default.DISCOVER_TAB_CAROUSEL_TYPE.PROVIDERS;break;case n.default.DISCOVER_TAB.TRENDING:case n.default.DISCOVER_TAB.JOURNEYS:case n.default.DISCOVER_TAB.PATHWAYS:case n.default.DISCOVER_TAB.VIDEOS:t=n.default.DISCOVER_TAB_CAROUSEL_TYPE.CARD;break;case n.default.DISCOVER_TAB.USERS:t=n.default.DISCOVER_TAB_CAROUSEL_TYPE.USER;break;case n.default.DISCOVER_TAB.COURSES:case n.default.DISCOVER_TAB.CHANNELS:t=n.default.DISCOVER_TAB_CAROUSEL_TYPE.CHANNEL;break;default:return(0,r.jsx)("div",{children:"No Result Found"})}else if(3===i)t=n.default.DISCOVER_TAB_CAROUSEL_TYPE.CARD;else if(5===i&&!(0,l.xb)(a))switch(d=a[o.id]?a[o.id]:a,c=u[i-2],c){case n.default.DISCOVER_TAB.CARD:t=n.default.DISCOVER_TAB_CAROUSEL_TYPE.CARD;break;case n.default.DISCOVER_TAB.USER:t=n.default.DISCOVER_TAB_CAROUSEL_TYPE.USER;break;default:t=n.default.DISCOVER_TAB_CAROUSEL_TYPE.CHANNEL}return{carouselType:t,filterData:d}},f=e=>{var t;let a=[];return null===(t=Object.keys(e))||void 0===t||t.forEach((t=>{e[t]&&e[t].entity&&a.push(e[t].entity)})),a},_=async e=>{var t;let{carouselType:a,userInfo:r,instanceCarousel:i,customCarousel:c,eclUrl:d,orgInfo:s}=e;const{domain:E,jwtToken:f}=r;try{var _,I;let e,r,U=[];const N=null===s||void 0===s||null===(_=s.configs)||void 0===_||null===(I=_.find((e=>e.name===n.default.ADMIN_CONFIG.ENABLE_ONLY_TEAM_USERS_ON_PEOPLE_CAROUSEL)))||void 0===I?void 0:I.value;switch(a){case n.default.DISCOVER_TAB.USERS:[e,r]=await(async e=>{let{jwtToken:t,domain:a,enableOnlyTeamUsers:l}=e;const u=D(10,0,l,n.default.RECOMMENDED_USERS_KEYS);return await(0,o.x)({url:u,domain:a,requestType:n.default.HTTP_METHOD.GET,jwtToken:t})})({jwtToken:f,domain:E,enableOnlyTeamUsers:N}),U=e&&e.users;break;case n.default.DISCOVER_TAB.TRENDING:[e,r]=await(async e=>{let{jwtToken:t,domain:a}=e,l="".concat(n.default.LXP_RESOURCES.TRENDING_CARDS,"?true");return await(0,o.x)({url:l,domain:a,requestType:n.default.HTTP_METHOD.GET,jwtToken:t})})({jwtToken:f,domain:E}),U=e&&e.cards;break;case n.default.DISCOVER_TAB.FEATURED_PROVIDERS:[e,r]=await async function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const c=await(0,u.bG)({domain:t,jwtToken:e}),d=T(c.userTeams,r,i),s=(0,l.Do)(),E=v(e,d,s,a);let f="".concat(n.default.LXP_RESOURCES.CARD_SOURCES,"?").concat(E.params),_=E.sourceDataUrl&&E.sourceDataUrl.replace(n.default.PROTOCOL,"");return await(0,o.x)({url:f,domain:_,requestType:n.default.HTTP_METHOD.GET,jwtToken:e})}(f,E,d),U=e&&e.data;break;case n.default.DISCOVER_TAB.COURSES:[e,r]=await(async e=>{let{jwtToken:t,domain:a}=e;const l=R(20,1);return await(0,o.x)({url:l,domain:a,requestType:n.default.HTTP_METHOD.GET,jwtToken:t})})({jwtToken:f,domain:E}),U="object"===typeof e&&null!==(t=e)&&void 0!==t&&t.error?[]:e;break;case n.default.DISCOVER_TAB.CHANNELS:[e,r]=await(async e=>{let{jwtToken:t,domain:a}=e;const l="".concat(n.default.LXP_RESOURCES.DISCOVER_CHANNELS,"?limit=").concat(10);return await(0,o.x)({url:l,domain:a,requestType:n.default.HTTP_METHOD.GET,jwtToken:t})})({jwtToken:f,domain:E}),U=e&&e.channels;break;case n.default.DISCOVER_TAB.PATHWAYS:[e,r]=await(async e=>{let{jwtToken:t,domain:a}=e;const l=A({});return(0,o.x)({url:l,domain:a,requestType:n.default.HTTP_METHOD.GET,jwtToken:t})})({jwtToken:f,domain:E}),U=e&&e.cards;break;case n.default.DISCOVER_TAB.JOURNEYS:[e,r]=await(async e=>{let{jwtToken:t,domain:a}=e;const l=C({});return await(0,o.x)({url:l,domain:a,requestType:n.default.HTTP_METHOD.GET,jwtToken:t})})({jwtToken:f,domain:E}),U=e&&e.cards;break;case n.default.DISCOVER_TAB.VIDEOS:[e,r]=await(async e=>{let{jwtToken:t,domain:a}=e;const l=m({limit:10,offset:0});return(0,o.x)({url:l,domain:a,requestType:n.default.HTTP_METHOD.GET,jwtToken:t})})({jwtToken:f,domain:E}),U=e&&e.videos;break;case n.default.DISCOVER_TAB.INSTANCES:if(i.length>0){const t=await Promise.all(null===i||void 0===i?void 0:i.map((async e=>{const t=e.split("/").pop(),a=await(async e=>{let{uuid:t,jwtToken:a,domain:l}=e;const u=S(t,n.default.JOURNEY_PATHWAY_FIELDS.join());return await(0,o.x)({url:u,domain:l,requestType:n.default.HTTP_METHOD.GET,jwtToken:a})})({uuid:t,jwtToken:f,domain:E});return null===a||void 0===a?void 0:a.cards})));[e,r]=t.flat(),U=e&&e.cards}break;case n.default.DISCOVER_TAB.CUSTOM_CAROUSELS:if(c.length>0){const t=null===c||void 0===c?void 0:c.map((e=>e.split("/").pop()));[e,r]=await(async e=>{let{jwtToken:t,domain:a,ids:l}=e;const u=O({structureIds:l});return await(0,o.x)({url:u,domain:a,requestType:n.default.HTTP_METHOD.GET,jwtToken:t})})({ids:t,jwtToken:f,domain:E}),U=e}break;default:console.error("unknown carousel")}return[U,r]}catch(U){return console.error(U),[null,U.message]}},T=(e,t,a)=>{let l="".concat(t,"&offset=").concat(a,"&is_featured=true");return(null===e||void 0===e?void 0:e.length)>0&&e.forEach((e=>{l+="&team_ids[]=".concat(e.teamId)})),l+="&sort_by_seq_no=true",l},S=(e,t)=>"".concat(n.default.LXP_RESOURCES.CAROUSEL_CONTENT,"?uuid=").concat(e,"&fields=").concat(t),R=(e,t)=>"?format=json&per_page=".concat(e,"&page=").concat(t,"&include_enrolled=true"),O=e=>{let{structureIds:t=[],filter_by_language:a=!1}=e,l="";return null===t||void 0===t||t.forEach((e=>{l+="&structure_ids[]=".concat(e)})),l+="&filter_by_language=".concat(a),"".concat(n.default.LXP_RESOURCES.ENTITIES_DATA,"?").concat(l,"&channel_fields=").concat(n.default.CHANNELS_FIELD,"&user_fields=").concat(n.default.RECOMMENDED_USERS_KEYS)},C=e=>{let{limit:t,offset:a,filter_by_language:l=!0}=e;const o=t?"&limit=".concat(t):"",u=a?"&offset=".concat(a):"";return"".concat(n.default.LXP_RESOURCES.TRENDING_JOURNEYS,"?fields=").concat(n.default.JOURNEY_PATHWAY_FIELDS.join()).concat(o).concat(u,"&filter_by_language=").concat(l)},A=e=>{let{limit:t,offset:a,filter_by_language:l=!0}=e;const o=t?"&limit=".concat(t):"",u=a?"&offset=".concat(a):"";return"".concat(n.default.LXP_RESOURCES.TRENDING_PATHWAYS,"?fields=").concat(n.default.JOURNEY_PATHWAY_FIELDS.join()).concat(o).concat(u,"&filter_by_language=").concat(l)},D=(e,t,a,l)=>{const o=l?"&fields=".concat(l):"";return"".concat(n.default.LXP_RESOURCES.RECOMMANDED_USERS,"?limit=").concat(e,"&offset=").concat(t,"&my_teams_users=").concat(a).concat(o)},v=(e,t,a,n,o)=>{t="limit=".concat(t);let u="";(0,l.xb)(o)||null===o||void 0===o||o.forEach((e=>{t+="&source_ids[]=".concat(e.key)})),n&&(u=n);return{token:e,sourceDataUrl:u,params:t+="&sort_by_seq_no=true",userAgent:a}},m=e=>{let{limit:t,offset:a,filter_by_language:l=!0}=e;return"".concat(n.default.LXP_RESOURCES.VIDEOS,"?limit=").concat(t,"&offset=").concat(a,"&fields=").concat(n.default.FEED_KEYS,"&filter_by_language=").concat(l)},I=(e,t,a)=>{let n=e;return 5!==a||(0,l.xb)(e)||(0,l.xb)(e[null===t||void 0===t?void 0:t.id])||(n=e[t.id]),(0,l.g2)(n)},U=(e,t,a,l,o)=>{const u=l?"&limit=".concat(l):"",r=o?"&offset=".concat(o):"";return"".concat(n.default.LXP_RESOURCES.TRENDING_CARDS,"?domain=").concat(e,"&token=").concat(t).concat(u).concat(r,"&user_agent=").concat(a)}},4683:(e,t,a)=>{a.d(t,{Z:()=>r,vX:()=>u,xM:()=>d});var l=a(9923),n=a(8079),o=a(2856);const u=async e=>{let{state:t,userInfo:a,limit:u,offset:d,userData:s}=e;const{domain:E,jwtToken:f}=a,_=(0,n.Do)(),{carousel:T,eclUrl:S}=t,R=T.carouselType.split("/");let O=R[R.length-1];switch(R.length>2&&(O=5===R.length?R[R.length-2]===o.default.DISCOVER_TAB.CHANNEL?o.default.DISCOVER_TAB.CUSTOM_CHANNEL:R[R.length-3]:o.default.DISCOVER_TAB.INSTANCES),O){case o.default.DISCOVER_TAB.USERS:return{url:(0,l.Wk)(u,d,!1,o.default.RECOMMENDED_USERS_KEYS)};case o.default.DISCOVER_TAB.TRENDING:return{url:(0,l.db)(E,f,_,u,d)};case o.default.DISCOVER_TAB.FEATURED_PROVIDERS:return c({limit:u,offset:d,jwtToken:f,eclUrl:S,userData:s});case o.default.DISCOVER_TAB.COURSES:return{url:l.yB};case o.default.DISCOVER_TAB.CHANNELS:return{url:"".concat(o.default.LXP_RESOURCES.DISCOVER_CHANNELS,"?limit=").concat(u,"&offset=").concat(d)};case o.default.DISCOVER_TAB.PATHWAYS:return{url:(0,l.ZE)({limit:u,offset:d})};case o.default.DISCOVER_TAB.JOURNEYS:return{url:(0,l.qF)({limit:u,offset:d})};case o.default.DISCOVER_TAB.VIDEOS:return{url:(0,l.Do)({limit:u,offset:d})};case o.default.DISCOVER_TAB.CUSTOM_CAROUSELS:return{url:r({limit:u,offset:d,id:T.id})};case o.default.DISCOVER_TAB.CUSTOM_CHANNEL:return{url:i({limit:u,offset:d,id:T.id})};default:return null}},r=e=>{let{limit:t,offset:a,id:l}=e;return"".concat(o.default.LXP_RESOURCES.STRUCTURE_ITEMS,"/").concat(l,"/structured_items.json?limit=").concat(t,"&offset=").concat(a)},i=e=>{let{limit:t,offset:a,id:l,filter_by_language:n=!1}=e;let u="".concat(o.default.LXP_RESOURCES.ENTITIES_DATA,"?structure_ids[]=").concat(l,"&limit=").concat(t,"&offset=").concat(a,"&type=assigned&channel_fields=").concat(["id","slug","label","description","followers_count","allow_follow","is_following","banner_image_urls","profile_image_url","is_private","is_subscribed","subscribed_via_team","topics","profile_image_urls","updated_at"].join(","));return u+="&filter_by_language=".concat(n),u},c=e=>{let{limit:t,offset:a,jwtToken:u,eclUrl:r,userData:i}=e;const c=(0,l.c5)(null===i||void 0===i?void 0:i.userTeams,t,a),d=(0,n.Do)(),s=(0,l.AZ)(u,c,d,r);return{url:"".concat(o.default.LXP_RESOURCES.CARD_SOURCES,"?").concat(s.params),domainURL:s.sourceDataUrl&&s.sourceDataUrl.replace(o.default.PROTOCOL,"")}},d=(e,t)=>{let a=[];return e.forEach((e=>{a.push(e[t])})),a}}}]);